import{u as e,V as a,T as l,t as c,v as s,w as t,x as n,y as r,S as i,z as o,A as d,B as u,_ as h,I as m,C as f,D as p,c as x,P as j,E as N,F as v,G as y,o as g,p as k,s as b,H as w,J as C,K as D,L as S,a as T,b as I,M as O,N as M,O as A,Q as K}from"./vendors.0de7404b.js";import{r as Y}from"./common.5c603857.js";function _(){var s=function(){c.navigateTo({url:"/pages/ai-chat/index"})};return e.jsx(a,{className:"ai-float-ball",onClick:s,children:e.jsx(l,{className:"ai-float-ball__icon",children:"\ud83e\udd16"})})}var E;t.locale("zh-cn");var G=[{label:"\u4e94\u661f\u7ea7",type:"star",matcher:/(\u4e94\u661f|\u8c6a\u534e|\u5962\u534e|\u9ad8\u7aef|5\u661f)/i,fallbackKeyword:"\u4e94\u661f\u7ea7"},{label:"\u4eb2\u5b50\u9152\u5e97",type:"facility",matcher:/(\u4eb2\u5b50|\u5bb6\u5ead|\u513f\u7ae5)/i,fallbackKeyword:"\u4eb2\u5b50"},{label:"\u8bbe\u8ba1\u7cbe\u54c1",type:"style",matcher:/(\u8bbe\u8ba1|\u827a\u672f|\u7cbe\u54c1)/i,fallbackKeyword:"\u8bbe\u8ba1"},{label:"\u6e38\u6cf3\u6c60",type:"facility",matcher:/(\u6cf3\u6c60|\u6e38\u6cf3|\u65e0\u8fb9\u6cf3\u6c60|pool)/i,fallbackKeyword:"\u6cf3\u6c60"},{label:"\u7f8e\u98df\u9910\u5385",type:"facility",matcher:/(\u9910\u5385|\u7f8e\u98df|\u7c73\u5176\u6797|\u65e9\u9910)/i,fallbackKeyword:"\u7f8e\u98df"},{label:"\u7f51\u7ea2\u63a8\u8350",type:"theme",matcher:/(\u7f51\u7ea2|\u6253\u5361|\u70ed\u95e8)/i,fallbackKeyword:"\u7f51\u7ea2"},{label:"\u8fd1\u5730\u94c1",type:"traffic",matcher:/(\u5730\u94c1|\u4ea4\u901a\u4fbf\u5229|\u8fd1\u5730\u94c1)/i,fallbackKeyword:"\u5730\u94c1"},{label:"\u6c5f\u666f\u623f",type:"view",matcher:/(\u6c5f\u666f|\u6d77\u666f|\u666f\u89c2|\u6cb3\u666f)/i,fallbackKeyword:"\u6c5f\u666f"}],W=d(E=x(G).call(G,0,6)).call(E,function(e,a){return{id:a+1,label:e.label,type:e.type,keyword:e.fallbackKeyword||e.label}}),B=[{label:"\u4e0d\u9650",value:"all"},{label:"\xa50-150",value:"0-150"},{label:"\xa5150-300",value:"150-300"},{label:"\xa5300-600",value:"300-600"},{label:"\xa5600+",value:"600-up"}],F=[{label:"\u4e0d\u9650",value:"all"},{label:"\u4e8c\u661f\u53ca\u4ee5\u4e0b/\u7ecf\u6d4e\u578b",value:"2"},{label:"\u4e09\u661f/\u8212\u9002",value:"3"},{label:"\u56db\u661f/\u9ad8\u6863",value:"4"},{label:"\u4e94\u661f/\u8c6a\u534e",value:"5"}],P=[{id:1,name:"\u4e0a\u6d77",hotels:1280},{id:2,name:"\u5317\u4eac",hotels:980},{id:3,name:"\u5e7f\u5dde",hotels:760},{id:4,name:"\u6df1\u5733",hotels:820},{id:5,name:"\u676d\u5dde",hotels:540},{id:6,name:"\u6210\u90fd",hotels:630}];function z(){var E,z=s.useState({city:"\u4e0a\u6d77\u5e02",checkInDate:t().format("MM\u6708DD\u65e5"),checkInWeekday:t().format("dddd"),checkOutDate:t().add(1,"day").format("MM\u6708DD\u65e5"),checkOutWeekday:t().add(1,"day").format("dddd"),nights:1,keyword:"",guests:2,rooms:1}),L=n(z,2),X=L[0],J=L[1],$=s.useState([]),q=n($,2),H=q[0],Q=q[1],R=s.useState(!1),V=n(R,2),U=V[0],Z=V[1],ee=s.useState([]),ae=n(ee,2),le=ae[0],ce=ae[1],se=s.useState(P),te=n(se,2),ne=te[0],re=te[1],ie=s.useState(!1),oe=n(ie,2);oe[0];var de=oe[1],ue=s.useState(W),he=n(ue,2),me=he[0],fe=he[1],pe=s.useState(null),xe=n(pe,2),je=xe[0],Ne=xe[1],ve=s.useState(!1),ye=n(ve,2),ge=ye[0],ke=ye[1],be=s.useState("\u4e0a\u6d77\u5e02"),we=n(be,2);we[0];var Ce=we[1],De=s.useState(!1),Se=n(De,2),Te=Se[0],Ie=Se[1],Oe=s.useState(!1),Me=n(Oe,2),Ae=Me[0],Ke=Me[1],Ye=s.useState({price:B[0],star:F[0]}),_e=n(Ye,2),Ee=_e[0],Ge=_e[1],We=s.useState(!1),Be=n(We,2),Fe=Be[0],Pe=Be[1],ze=s.useState(r({},Ee)),Le=n(ze,2),Xe=Le[0],Je=Le[1],$e=function(){Ge(r({},Xe)),Pe(!1)},qe=s.useMemo(function(){return String(X.city||"").replace(/\u5e02$/,"")},[X.city]),He=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v(e=String(a||"").replace(/\u5e02$/,"")).call(e)},Qe=function(e){if(Array.isArray(e))return e;if("string"!==typeof e)return[];try{var a=JSON.parse(e);return Array.isArray(a)?a:[]}catch(c){var l;return C(l=e.split(/[\u3001,|/ ]+/)).call(l,Boolean)}},Re=function(){var e,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(l)||0===l.length)return W;var c=d(G).call(G,function(e){return r(r({},e),{},{score:0})});M(l).call(l,function(e){var a,l=h(a=[e.name,e.city,e.address]).call(a,D(e.tags||[])).join("|");if(M(c).call(c,function(e){e.matcher.test(l)&&(e.score+=1)}),Number(e.star)>=5){var s=A(c).call(c,function(e){return"\u4e94\u661f\u7ea7"===e.label});s&&(s.score+=1)}});var s=x(e=K(a=C(c).call(c,function(e){return e.score>0})).call(a,function(e,a){return a.score-e.score})).call(e,0,6);return 0===s.length?W:d(s).call(s,function(e,a){return{id:a+1,label:e.label,type:e.type,keyword:e.fallbackKeyword||e.label}})};c.useLoad(function(){console.log("\u9875\u9762\u52a0\u8f7d\u5b8c\u6210"),Ve()});var Ve=function(){var e=g(k().m(function e(){var a,l,c,s,t;return k().w(function(e){while(1)switch(e.p=e.n){case 0:return Ie(!0),a=X.city,e.p=1,e.n=2,Y({url:"/system/location",method:"GET"});case 2:return c=e.v,200===c.code&&null!==(l=c.data)&&void 0!==l&&l.city&&(s=c.data.city,a=s,Ce(s),J(function(e){return r(r({},e),{},{city:s})})),e.n=3,Ze();case 3:return e.n=4,ea(a);case 4:return e.n=5,Ue();case 5:e.n=7;break;case 6:e.p=6,t=e.v,console.error("\u521d\u59cb\u5316\u5931\u8d25:",t);case 7:return e.p=7,Ie(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=g(k().m(function e(){var a,l,c,s,t,n,i,o,u,m,f,p,j,N,v;return k().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Y({url:"/hotel/list",method:"GET",data:{limit:3,star:5}});case 1:if(l=e.v,c=200===l.code&&null!==(a=l.data)&&void 0!==a&&a.list?l.data.list:[],!(c.length<3)){e.n=3;break}return e.n=2,Y({url:"/hotel/list",method:"GET",data:{limit:3-c.length,star:4}});case 2:t=e.v,200===t.code&&null!==(s=t.data)&&void 0!==s&&s.list&&(c=h(n=[]).call(n,D(c),D(t.data.list)));case 3:if(!(c.length<3)){e.n=5;break}return e.n=4,Y({url:"/hotel/list",method:"GET",data:{limit:3}});case 4:o=e.v,200===o.code&&null!==(i=o.data)&&void 0!==i&&i.list&&(p=d(c).call(c,function(e){return e.id}),j=C(u=o.data.list).call(u,function(e){return!y(p).call(p,e.id)}),c=x(m=h(f=[]).call(f,D(c),D(j))).call(m,0,3));case 5:c.length>0&&(N=d(c).call(c,function(e,a){var l,c=[{tag:"\u9650\u65f6\u7279\u60e0",tagClass:"",title:"".concat(e.name," \xb7 \u6625\u5b63\u5927\u4fc3"),subtitle:"\u5962\u534e\u4eab\u53d7\uff0c\u8d85\u503c\u4f53\u9a8c"},{tag:"\u4f1a\u5458\u4e13\u4eab",tagClass:"tag-premium",title:"".concat(e.name," \xb7 \u5c0a\u4eab\u5347\u7ea7"),subtitle:"\u767d\u91d1\u4f1a\u5458\u514d\u8d39\u5347\u7ea7\u8c6a\u534e\u623f\u578b"},{tag:"\u95ea\u8d2d\u7279\u4ef7",tagClass:"tag-flash",title:"".concat(e.name," \xb7 \u5468\u672b\u7279\u60e0"),subtitle:"\u9650\u65f6\u62a2\u8d2d\uff0c\u624b\u6162\u65e0"}];return r({id:e.id,image:null!==(l=e.cover_image)&&void 0!==l&&I(l).call(l,"http")?e.cover_image:"http://1.14.207.212:8848".concat(e.cover_image)},c[a%3])}),ce(N)),e.n=7;break;case 6:e.p=6,v=e.v,console.error("\u83b7\u53d6Banner\u9152\u5e97\u5931\u8d25:",v);case 7:return e.a(2)}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=g(k().m(function e(){var a,l,c,s,t,n;return k().w(function(e){while(1)switch(e.p=e.n){case 0:return de(!0),e.p=1,e.n=2,Y({url:"/system/city-stats",method:"GET"});case 2:l=e.v,200===l.code&&null!==(a=l.data)&&void 0!==a&&a.cities&&(t=d(c=x(s=l.data.cities).call(s,0,6)).call(c,function(e,a){return{id:a+1,name:e.city,hotels:e.count}}),re(t)),e.n=4;break;case 3:e.p=3,n=e.v,console.error("\u83b7\u53d6\u57ce\u5e02\u7edf\u8ba1\u5931\u8d25:",n);case 4:return e.p=4,de(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),ea=function(){var e=g(k().m(function e(a){var l,c,s,t,n,r,i,o,u,m,f,p,j;return k().w(function(e){while(1)switch(e.p=e.n){case 0:return Z(!0),e.p=1,c=He(a),e.n=2,Y({url:"/hotel/list",method:"GET",data:{city:c,limit:4,sort:"price_desc"}});case 2:if(s=e.v,t=200===s.code&&Array.isArray(null===(l=s.data)||void 0===l?void 0:l.list)?s.data.list:[],!(t.length<4)){e.n=4;break}return e.n=3,Y({url:"/hotel/list",method:"GET",data:{limit:4,sort:"price_desc"}});case 3:r=e.v,200===r.code&&Array.isArray(null===(n=r.data)||void 0===n?void 0:n.list)&&(m=new S(d(t).call(t,function(e){return e.id})),f=C(i=r.data.list).call(i,function(e){return!m.has(e.id)}),t=x(o=h(u=[]).call(u,D(t),D(f))).call(o,0,4));case 4:t.length>0?(p=d(t).call(t,function(e){var a,l,c;return{id:e.id,name:e.name,city:e.city,address:e.address,star:e.star,price:O(e.price),rating:e.score,reviews:e.reviews||0,image:null!==(a=e.cover_image)&&void 0!==a&&I(a).call(a,"http")?e.cover_image:"http://1.14.207.212:8848".concat(e.cover_image),tags:x(l=C(c=Qe(e.tags)).call(c,function(e){var a;return!y(a=String(e)).call(a,":")})).call(l,0,4)}}),Q(p),fe(Re(p))):(Q([]),fe(W)),e.n=6;break;case 5:e.p=5,j=e.v,console.error("\u83b7\u53d6\u63a8\u8350\u9152\u5e97\u5931\u8d25:",j);case 6:return e.p=6,Z(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(a){return e.apply(this,arguments)}}(),aa=function(e){var a,l,c,s,i=n(e,2),o=i[0],d=i[1],u=t(h(a=h(l="".concat(o[0],"-")).call(l,o[1],"-")).call(a,o[2])),m=t(h(c=h(s="".concat(d[0],"-")).call(s,d[1],"-")).call(c,d[2]));J(function(e){return r(r({},e),{},{checkInDate:u.format("MM\u6708DD\u65e5"),checkInWeekday:u.format("dddd"),checkOutDate:m.format("MM\u6708DD\u65e5"),checkOutWeekday:m.format("dddd"),nights:m.diff(u,"day")})}),Ke(!1)},la=function(){var e;if(v(e=X.keyword).call(e)||"\u8bf7\u9009\u62e9"!==X.city){var a={city:X.city,keyword:X.keyword||"",checkInDate:X.checkInDate,checkOutDate:X.checkOutDate,days:X.nights,priceType:Ee.price.value,starType:Ee.star.value};console.log("\u641c\u7d22\u53c2\u6570:",a),w("hotelSearchParams",a),console.log("\u8df3\u8f6c\u5230 list \u9875\u9762\uff0c\u53c2\u6570:",a),c.switchTab({url:"/pages/list/index",success:function(){console.log("\u8df3\u8f6c\u5230\u5217\u8868\u9875\u6210\u529f")},fail:function(e){console.error("\u8df3\u8f6c\u5931\u8d25:",e),b({title:"\u8df3\u8f6c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",icon:"error"})}})}else b({title:"\u8bf7\u9009\u62e9\u76ee\u7684\u5730\u6216\u8f93\u5165\u5173\u952e\u8bcd",icon:"none"})},ca=function(){var e=g(k().m(function e(a){var l;return k().w(function(e){while(1)switch(e.n){case 0:return l="\u4e0d\u9650\u57ce\u5e02"===a?"":a,Ce(l||"\u4e0d\u9650\u57ce\u5e02"),J(function(e){return r(r({},e),{},{city:l||"\u4e0d\u9650\u57ce\u5e02"})}),ke(!1),e.n=1,T.all([ea(l),Ue(l)]);case 1:return e.a(2)}},e)}));return function(a){return e.apply(this,arguments)}}(),sa=function(e){console.log("\u70b9\u51fb\u4e86\u65e5\u671f\u533a\u57df"),Ke(!0)},ta=function(e){Ne(e.id);var a=e.keyword||e.label,l="\u4e94\u661f\u7ea7"===a?"":a,s="\u4e94\u661f\u7ea7"===e.label?"5":Ee.star.value;J(function(e){return r(r({},e),{},{keyword:l})});var t={city:X.city,keyword:l,checkInDate:X.checkInDate,checkOutDate:X.checkOutDate,days:X.nights,priceType:Ee.price.value,starType:s};w("hotelSearchParams",t),c.switchTab({url:"/pages/list/index"})},na=function(e){var a,l;console.log("\u70b9\u51fb\u9152\u5e97:",e.name),c.navigateTo({url:h(a=h(l="/pages/detail/index?id=".concat(e.id,"&checkIn=")).call(l,X.checkInDate,"&checkOut=")).call(a,X.checkOutDate)})},ra=function(){var e=g(k().m(function e(){var a,l,c,s,t,n;return k().w(function(e){while(1)switch(e.p=e.n){case 0:return Ie(!0),e.p=1,e.n=2,Y({url:"/system/location",method:"GET"});case 2:if(a=e.v,200!==a.code||!a.data){e.n=4;break}return l=a.data,c=l.city,s=l.province,t=c||s||"\u4e0a\u6d77\u5e02",Ce(t),J(function(e){return r(r({},e),{},{city:t})}),e.n=3,T.all([ea(t),Ue(t)]);case 3:b({title:"\u5df2\u5b9a\u4f4d\u5230: ".concat(t),icon:"success",duration:1500}),e.n=5;break;case 4:throw new Error("\u5b9a\u4f4d\u89e3\u6790\u5931\u8d25");case 5:e.n=7;break;case 6:e.p=6,n=e.v,console.error("\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25:",n),b({title:"\u5b9a\u4f4d\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u9009\u62e9",icon:"none"});case 7:return e.p=7,Ie(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),ia=function(){return e.jsxs(a,{className:"popular-cities",children:[e.jsxs(a,{className:"section-title",children:[e.jsx(l,{className:"title",children:"\u70ed\u95e8\u57ce\u5e02"}),e.jsx(l,{className:"subtitle",children:"\u63a2\u7d22\u66f4\u591a\u76ee\u7684\u5730"})]}),e.jsx(i,{className:"cities-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:e.jsx(a,{className:"cities-container",children:d(ne).call(ne,function(c){return e.jsxs(a,{className:"city-item ".concat(y(qe).call(qe,c.name)?"active":""),onClick:function(){return ca(c.name)},children:[e.jsx(l,{className:"city-name",children:c.name}),e.jsxs(l,{className:"city-count",children:[c.hotels,"\u5bb6\u9152\u5e97"]})]},c.id)})})})]})};return e.jsxs(a,{className:"page-container",children:[e.jsxs(i,{className:"main-content",scrollY:!0,enhanced:!0,showScrollbar:!1,children:[e.jsx(o,{className:"banner-swiper",indicatorColor:"#999",indicatorActiveColor:"#3B82F6",circular:le.length>=2,indicatorDots:!0,autoplay:le.length>=2,interval:4e3,children:le.length>0?d(le).call(le,function(s,t){return e.jsx(u,{children:e.jsxs(a,{className:"banner-item",onClick:function(){var e,a;c.navigateTo({url:h(e=h(a="/pages/detail/index?id=".concat(s.id,"&checkIn=")).call(a,X.checkInDate,"&checkOut=")).call(e,X.checkOutDate)})},children:[e.jsx(m,{className:"banner-image",src:s.image,mode:"aspectFill"}),e.jsxs(a,{className:"banner-content",children:[e.jsx(a,{className:"promotion-tag ".concat(s.tagClass),children:e.jsx(l,{className:"tag-text",children:s.tag})}),e.jsx(l,{className:"banner-title",children:s.title}),e.jsx(l,{className:"banner-subtitle",children:s.subtitle})]})]})},t)}):e.jsx(u,{children:e.jsx(a,{className:"banner-item",children:e.jsx(a,{style:{height:"180px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f5f5f5"},children:e.jsx(l,{children:"\u52a0\u8f7d\u4e2d..."})})})})}),e.jsx(a,{className:"search-section",children:e.jsxs(a,{className:"search-card",children:[e.jsxs(a,{className:"search-row location-row",children:[e.jsxs(a,{className:"location-left",onClick:function(){return ke(!ge)},children:[e.jsx(l,{className:"location-label",children:"\u4f4d\u7f6e: "}),e.jsx(l,{className:"location-value",children:X.city})]}),e.jsxs(a,{className:"location-btn",onClick:ra,children:[e.jsx(l,{className:"btn-icon",children:"\ud83c\udfaf"}),e.jsx(l,{className:"btn-text",children:"\u6211\u7684\u4f4d\u7f6e"})]})]}),e.jsxs(a,{className:"search-row date-row",onClick:sa,hoverClass:"date-row-hover",children:[e.jsxs(a,{className:"date-item checkin",children:[e.jsx(l,{className:"date-label",children:"\u5165\u4f4f\u65e5\u671f"}),e.jsxs(a,{className:"date-info",children:[e.jsx(l,{className:"date-value",children:X.checkInDate}),e.jsx(l,{className:"date-weekday",children:X.checkInWeekday})]})]}),e.jsx(a,{className:"night-count",children:e.jsxs(l,{className:"night-text",children:[X.nights,"\u665a"]})}),e.jsxs(a,{className:"date-item checkout",children:[e.jsx(l,{className:"date-label",children:"\u79bb\u5e97\u65e5\u671f"}),e.jsxs(a,{className:"date-info",children:[e.jsx(l,{className:"date-value",children:X.checkOutDate}),e.jsx(l,{className:"date-weekday",children:X.checkOutWeekday})]})]})]}),e.jsxs(a,{className:"search-row keyword-row",children:[e.jsx(f,{className:"search-input",placeholder:"\ud83d\udd0d \u5173\u952e\u5b57/\u4f4d\u7f6e/\u54c1\u724c/\u9152\u5e97\u540d",placeholderClass:"placeholder",value:X.keyword,onInput:function(e){return J(function(a){return r(r({},a),{},{keyword:e.detail.value})})},confirmType:"search",onConfirm:la}),X.keyword&&e.jsx(l,{className:"clear-icon",onClick:function(){return J(function(e){return r(r({},e),{},{keyword:""})})},children:"\u2715"})]}),e.jsxs(a,{className:"search-row rooms-row",children:[e.jsx(l,{className:"rooms-label",children:"\u623f\u95f4\u6570\u91cf"}),e.jsxs(a,{className:"rooms-controls",children:[e.jsx(p,{className:"control-btn minus",onClick:function(){return J(function(e){return r(r({},e),{},{rooms:Math.max(1,e.rooms-1)})})},children:"-"}),e.jsxs(l,{className:"rooms-count",children:[X.rooms,"\u95f4"]}),e.jsx(p,{className:"control-btn plus",onClick:function(){return J(function(e){return r(r({},e),{},{rooms:e.rooms+1})})},children:"+"})]})]}),e.jsxs(a,{className:"search-row filter-row",onClick:function(){Je(r({},Ee)),Pe(!0)},children:[e.jsxs(a,{className:"filter-left",children:[e.jsx(l,{className:"filter-icon",children:"\ud83c\udff7\ufe0f"})," ",e.jsxs(a,{className:"filter-info",children:[e.jsx(l,{className:"filter-label",children:"\u4ef7\u683c/\u661f\u7ea7"}),e.jsx(l,{className:"filter-value ".concat("all"===Ee.price.value&&"all"===Ee.star.value?"placeholder":""),children:"all"===Ee.price.value&&"all"===Ee.star.value?"\u8bf7\u9009\u62e9\u4ef7\u683c/\u661f\u7ea7":h(E="".concat(Ee.price.label," \xb7 ")).call(E,Ee.star.label)})]})]}),e.jsx(l,{className:"arrow-icon",children:"\u203a"})]}),e.jsx(p,{className:"search-button",onClick:la,loading:Te,disabled:Te,children:e.jsx(l,{className:"button-text",children:Te?"\u641c\u7d22\u4e2d...":"\u5f00\u59cb\u641c\u7d22"})})]})}),ia(),e.jsxs(a,{className:"quick-tags-section",children:[e.jsxs(a,{className:"section-header",children:[e.jsx(l,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),e.jsx(l,{className:"section-subtitle",children:"\u667a\u80fd\u63a8\u8350\u70ed\u95e8\u7b5b\u9009"})]}),e.jsx(i,{className:"tags-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:e.jsx(a,{className:"tags-container",children:d(me).call(me,function(c){return e.jsx(a,{className:"tag-item ".concat(je===c.id?"active":""),onClick:function(){return ta(c)},children:e.jsx(l,{className:"tag-label",children:c.label})},c.id)})})})]}),e.jsxs(a,{className:"recent-section",children:[e.jsx(a,{className:"section-header",children:e.jsxs(a,{className:"section-title-wrapper",children:[e.jsx(l,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),e.jsx(l,{className:"section-badge",children:H.length})]})}),e.jsx(i,{className:"hotels-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:e.jsx(a,{className:"hotels-container",children:U?e.jsx(a,{style:{padding:"20px",textAlign:"center"},children:e.jsx(l,{children:"\u52a0\u8f7d\u4e2d..."})}):H.length>0?d(H).call(H,function(c){var s,t;return e.jsxs(a,{className:"hotel-card",onClick:function(){return na(c)},children:[e.jsx(m,{className:"hotel-image",src:c.image,mode:"aspectFill"}),e.jsxs(a,{className:"hotel-info",children:[e.jsx(l,{className:"hotel-name",children:c.name}),c.rating&&e.jsxs(a,{className:"hotel-rating",children:[e.jsxs(l,{className:"rating-value",children:["\u2605 ",c.rating]}),c.reviews>0&&e.jsxs(l,{className:"rating-reviews",children:["(",c.reviews,"\u6761\u8bc4\u4ef7)"]})]}),e.jsx(a,{className:"hotel-tags",children:d(s=x(t=c.tags).call(t,0,2)).call(s,function(a,c){return e.jsx(l,{className:"hotel-tag",children:a},c)})}),e.jsxs(a,{className:"hotel-price",children:[e.jsx(l,{className:"price-symbol",children:"\xa5"}),e.jsx(l,{className:"price-value",children:c.price.toLocaleString()}),e.jsx(l,{className:"price-unit",children:"\u8d77/\u665a"})]})]})]},c.id)}):e.jsx(a,{style:{padding:"20px",textAlign:"center"},children:e.jsx(l,{children:"\u6682\u65e0\u63a8\u8350\u9152\u5e97"})})})})]}),e.jsx(a,{className:"bottom-spacing"})]}),e.jsx(_,{}),e.jsx(j,{visible:Fe,position:"bottom",round:!0,onClose:function(){return Pe(!1)},children:e.jsxs(a,{className:"filter-popup-content",children:[e.jsxs(a,{className:"popup-header",children:[e.jsx(l,{className:"popup-title",children:"\u4ef7\u683c/\u661f\u7ea7\u7b5b\u9009"}),e.jsx(l,{className:"popup-close",onClick:function(){return Pe(!1)},children:"\u2715"})]}),e.jsxs(i,{className:"popup-body",scrollY:!0,children:[e.jsxs(a,{className:"filter-group",children:[e.jsx(l,{className:"group-title",children:"\u4ef7\u683c\u9884\u7b97"}),e.jsx(a,{className:"options-grid",children:d(B).call(B,function(l){return e.jsx(a,{className:"option-item ".concat(Xe.price.value===l.value?"active":""),onClick:function(){return Je(function(e){return r(r({},e),{},{price:l})})},children:l.label},l.value)})})]}),e.jsxs(a,{className:"filter-group",children:[e.jsx(l,{className:"group-title",children:"\u661f\u7ea7\u6807\u51c6"}),e.jsx(a,{className:"options-grid",children:d(F).call(F,function(l){return e.jsx(a,{className:"option-item ".concat(Xe.star.value===l.value?"active":""),onClick:function(){return Je(function(e){return r(r({},e),{},{star:l})})},children:l.label},l.value)})})]})]}),e.jsxs(a,{className:"popup-footer",children:[e.jsx(p,{className:"reset-btn",onClick:function(){return Je({price:B[0],star:F[0]})},children:"\u91cd\u7f6e"}),e.jsx(p,{className:"confirm-btn",onClick:$e,children:"\u5b8c\u6210"})]})]})}),Ae&&e.jsx(N,{visible:Ae,className:"home-calendar-wrapper",type:"range",startDate:t().format("YYYY-MM-DD"),endDate:t().add(12,"month").format("YYYY-MM-DD"),onClose:function(){return Ke(!1)},onConfirm:aa,showConfirm:!0,poppable:!0,position:"bottom",round:!0,closeable:!0,style:{height:"88%","--nutui-calendar-confirm-btn-height":"48px"}}),Te&&e.jsx(a,{className:"loading-overlay",children:e.jsxs(a,{className:"loading-content",children:[e.jsx(a,{className:"loading-spinner"}),e.jsx(l,{className:"loading-text",children:"\u52a0\u8f7d\u4e2d..."})]})}),ge&&e.jsx(a,{className:"city-picker-overlay",onClick:function(){return ke(!1)},children:e.jsxs(a,{className:"city-picker",onClick:function(e){return e.stopPropagation()},children:[e.jsxs(a,{className:"picker-header",children:[e.jsx(l,{className:"picker-title",children:"\u9009\u62e9\u57ce\u5e02"}),e.jsx(l,{className:"picker-close",onClick:function(){return ke(!1)},children:"\u2715"})]}),e.jsx(a,{className:"picker-search-box",style:{padding:"10px 16px",borderBottom:"1px solid #f0f0f0"},children:e.jsx(f,{className:"picker-search-input",placeholder:"\u8f93\u5165\u57ce\u5e02\u540d\u79f0\u641c\u7d22",style:{backgroundColor:"#f5f5f5",padding:"8px 12px",borderRadius:"8px",fontSize:"14px"},onConfirm:function(e){var a,l=v(a=e.detail.value).call(a);l&&ca(l)},confirmType:"search"})}),e.jsxs(i,{className:"picker-list",scrollY:!0,children:[e.jsxs(a,{className:"picker-item ".concat(qe&&"\u8bf7\u9009\u62e9"!==qe&&"\u4e0d\u9650\u57ce\u5e02"!==qe?"":"selected"),onClick:function(){return ca("\u4e0d\u9650\u57ce\u5e02")},children:[e.jsx(l,{className:"picker-item-name",style:{fontWeight:"bold"},children:"\u4e0d\u9650\u57ce\u5e02"}),e.jsx(l,{className:"picker-item-count",children:"\u5168\u90e8\u9152\u5e97"})]}),d(ne).call(ne,function(c){return e.jsxs(a,{className:"picker-item ".concat(y(qe).call(qe,c.name)?"selected":""),onClick:function(){return ca(c.name)},children:[e.jsx(l,{className:"picker-item-name",children:c.name}),e.jsxs(l,{className:"picker-item-count",children:[c.hotels,"\u5bb6\u9152\u5e97"]})]},c.id)})]})]})})]})}export{z as default};
