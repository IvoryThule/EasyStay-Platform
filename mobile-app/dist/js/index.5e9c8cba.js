import{u as e,V as a,F as l,t as c,v as s,w as n,x as t,y as r,S as i,z as o,A as d,B as u,_ as h,I as m,T as f,C as p,D as x,E as j,G as N,M as y,c as v,P as g,H as b,J as k,K as w,o as C,p as D,s as S,L as I,N as T,O as M,Q as A,a as O,b as Y,U as K,W as E,X as z,Y as G}from"./vendors.0e37b5be.js";import{r as _}from"./common.6aeea0c4.js";function W(){var s=function(){c.navigateTo({url:"/pages/ai-chat/index"})};return e.jsx(a,{className:"ai-float-ball",onClick:s,children:e.jsx(l,{size:24,color:"#fff"})})}var B;n.locale("zh-cn");var F=[{label:"\u4e94\u661f\u7ea7",type:"star",matcher:/(\u4e94\u661f|\u8c6a\u534e|\u5962\u534e|\u9ad8\u7aef|5\u661f)/i,fallbackKeyword:"\u4e94\u661f\u7ea7"},{label:"\u4eb2\u5b50\u9152\u5e97",type:"facility",matcher:/(\u4eb2\u5b50|\u5bb6\u5ead|\u513f\u7ae5)/i,fallbackKeyword:"\u4eb2\u5b50"},{label:"\u8bbe\u8ba1\u7cbe\u54c1",type:"style",matcher:/(\u8bbe\u8ba1|\u827a\u672f|\u7cbe\u54c1)/i,fallbackKeyword:"\u8bbe\u8ba1"},{label:"\u6e38\u6cf3\u6c60",type:"facility",matcher:/(\u6cf3\u6c60|\u6e38\u6cf3|\u65e0\u8fb9\u6cf3\u6c60|pool)/i,fallbackKeyword:"\u6cf3\u6c60"},{label:"\u7f8e\u98df\u9910\u5385",type:"facility",matcher:/(\u9910\u5385|\u7f8e\u98df|\u7c73\u5176\u6797|\u65e9\u9910)/i,fallbackKeyword:"\u7f8e\u98df"},{label:"\u7f51\u7ea2\u63a8\u8350",type:"theme",matcher:/(\u7f51\u7ea2|\u6253\u5361|\u70ed\u95e8)/i,fallbackKeyword:"\u7f51\u7ea2"},{label:"\u8fd1\u5730\u94c1",type:"traffic",matcher:/(\u5730\u94c1|\u4ea4\u901a\u4fbf\u5229|\u8fd1\u5730\u94c1)/i,fallbackKeyword:"\u5730\u94c1"},{label:"\u6c5f\u666f\u623f",type:"view",matcher:/(\u6c5f\u666f|\u6d77\u666f|\u666f\u89c2|\u6cb3\u666f)/i,fallbackKeyword:"\u6c5f\u666f"}],P=d(B=v(F).call(F,0,6)).call(B,function(e,a){return{id:a+1,label:e.label,type:e.type,keyword:e.fallbackKeyword||e.label}}),X=[{label:"\u4e0d\u9650",value:"all"},{label:"\xa50-150",value:"0-150"},{label:"\xa5150-300",value:"150-300"},{label:"\xa5300-600",value:"300-600"},{label:"\xa5600+",value:"600-up"}],L=[{label:"\u4e0d\u9650",value:"all"},{label:"\u4e8c\u661f\u53ca\u4ee5\u4e0b/\u7ecf\u6d4e\u578b",value:"2"},{label:"\u4e09\u661f/\u8212\u9002",value:"3"},{label:"\u56db\u661f/\u9ad8\u6863",value:"4"},{label:"\u4e94\u661f/\u8c6a\u534e",value:"5"}],J=[{id:1,name:"\u4e0a\u6d77",hotels:1280},{id:2,name:"\u5317\u4eac",hotels:980},{id:3,name:"\u5e7f\u5dde",hotels:760},{id:4,name:"\u6df1\u5733",hotels:820},{id:5,name:"\u676d\u5dde",hotels:540},{id:6,name:"\u6210\u90fd",hotels:630}];function $(){var l,B=s.useState({city:"\u4e0a\u6d77\u5e02",checkInDate:n().format("MM\u6708DD\u65e5"),checkInWeekday:n().format("dddd"),checkOutDate:n().add(1,"day").format("MM\u6708DD\u65e5"),checkOutWeekday:n().add(1,"day").format("dddd"),nights:1,keyword:"",guests:2,adults:2,children:0,rooms:1}),$=t(B,2),q=$[0],H=$[1],Q=s.useState([]),R=t(Q,2),U=R[0],V=R[1],Z=s.useState(!1),ee=t(Z,2),ae=ee[0],le=ee[1],ce=s.useState([]),se=t(ce,2),ne=se[0],te=se[1],re=s.useState(J),ie=t(re,2),oe=ie[0],de=ie[1],ue=s.useState(!1),he=t(ue,2);he[0];var me=he[1],fe=s.useState(P),pe=t(fe,2),xe=pe[0],je=pe[1],Ne=s.useState(null),ye=t(Ne,2),ve=ye[0],ge=ye[1],be=s.useState(!1),ke=t(be,2),we=ke[0],Ce=ke[1],De=s.useState("\u4e0a\u6d77\u5e02"),Se=t(De,2);Se[0];var Ie=Se[1],Te=s.useState(!1),Me=t(Te,2),Ae=Me[0],Oe=Me[1],Ye=s.useState(!1),Ke=t(Ye,2),Ee=Ke[0],ze=Ke[1],Ge=s.useState({price:X[0],star:L[0]}),_e=t(Ge,2),We=_e[0],Be=_e[1],Fe=s.useState(!1),Pe=t(Fe,2),Xe=Pe[0],Le=Pe[1],Je=s.useState(r({},We)),$e=t(Je,2),qe=$e[0],He=$e[1],Qe=function(){Be(r({},qe)),Le(!1)},Re=s.useMemo(function(){return String(q.city||"").replace(/\u5e02$/,"")},[q.city]),Ue=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return k(e=String(a||"").replace(/\u5e02$/,"")).call(e)},Ve=function(e){if(Array.isArray(e))return e;if("string"!==typeof e)return[];try{var a=JSON.parse(e);return Array.isArray(a)?a:[]}catch(c){var l;return T(l=e.split(/[\u3001,|/ ]+/)).call(l,Boolean)}},Ze=function(){var e,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(l)||0===l.length)return P;var c=d(F).call(F,function(e){return r(r({},e),{},{score:0})});E(l).call(l,function(e){var a,l=h(a=[e.name,e.city,e.address]).call(a,M(e.tags||[])).join("|");if(E(c).call(c,function(e){e.matcher.test(l)&&(e.score+=1)}),Number(e.star)>=5){var s=z(c).call(c,function(e){return"\u4e94\u661f\u7ea7"===e.label});s&&(s.score+=1)}});var s=v(e=G(a=T(c).call(c,function(e){return e.score>0})).call(a,function(e,a){return a.score-e.score})).call(e,0,6);return 0===s.length?P:d(s).call(s,function(e,a){return{id:a+1,label:e.label,type:e.type,keyword:e.fallbackKeyword||e.label}})};c.useLoad(function(){console.log("\u9875\u9762\u52a0\u8f7d\u5b8c\u6210"),ea()});var ea=function(){var e=C(D().m(function e(){var a,l,c,s,n;return D().w(function(e){while(1)switch(e.p=e.n){case 0:return Oe(!0),a=q.city,e.p=1,e.n=2,_({url:"/system/location",method:"GET"});case 2:return c=e.v,200===c.code&&null!==(l=c.data)&&void 0!==l&&l.city&&(s=c.data.city,a=s,Ie(s),H(function(e){return r(r({},e),{},{city:s})})),e.n=3,la();case 3:return e.n=4,ca(a);case 4:return e.n=5,aa();case 5:e.n=7;break;case 6:e.p=6,n=e.v,console.error("\u521d\u59cb\u5316\u5931\u8d25:",n);case 7:return e.p=7,Oe(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),aa=function(){var e=C(D().m(function e(){var a,l,c,s,n,t,i,o,u,m,f,p,x,j,N;return D().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,_({url:"/hotel/list",method:"GET",data:{limit:3,star:5}});case 1:if(l=e.v,c=200===l.code&&null!==(a=l.data)&&void 0!==a&&a.list?l.data.list:[],!(c.length<3)){e.n=3;break}return e.n=2,_({url:"/hotel/list",method:"GET",data:{limit:3-c.length,star:4}});case 2:n=e.v,200===n.code&&null!==(s=n.data)&&void 0!==s&&s.list&&(c=h(t=[]).call(t,M(c),M(n.data.list)));case 3:if(!(c.length<3)){e.n=5;break}return e.n=4,_({url:"/hotel/list",method:"GET",data:{limit:3}});case 4:o=e.v,200===o.code&&null!==(i=o.data)&&void 0!==i&&i.list&&(p=d(c).call(c,function(e){return e.id}),x=T(u=o.data.list).call(u,function(e){return!w(p).call(p,e.id)}),c=v(m=h(f=[]).call(f,M(c),M(x))).call(m,0,3));case 5:c.length>0&&(j=d(c).call(c,function(e,a){var l,c=[{tag:"\u9650\u65f6\u7279\u60e0",tagClass:"",title:"".concat(e.name," \xb7 \u6625\u5b63\u5927\u4fc3"),subtitle:"\u5962\u534e\u4eab\u53d7\uff0c\u8d85\u503c\u4f53\u9a8c"},{tag:"\u4f1a\u5458\u4e13\u4eab",tagClass:"tag-premium",title:"".concat(e.name," \xb7 \u5c0a\u4eab\u5347\u7ea7"),subtitle:"\u767d\u91d1\u4f1a\u5458\u514d\u8d39\u5347\u7ea7\u8c6a\u534e\u623f\u578b"},{tag:"\u95ea\u8d2d\u7279\u4ef7",tagClass:"tag-flash",title:"".concat(e.name," \xb7 \u5468\u672b\u7279\u60e0"),subtitle:"\u9650\u65f6\u62a2\u8d2d\uff0c\u624b\u6162\u65e0"}];return r({id:e.id,image:null!==(l=e.cover_image)&&void 0!==l&&Y(l).call(l,"http")?e.cover_image:"http://1.14.207.212:8848".concat(e.cover_image)},c[a%3])}),te(j)),e.n=7;break;case 6:e.p=6,N=e.v,console.error("\u83b7\u53d6Banner\u9152\u5e97\u5931\u8d25:",N);case 7:return e.a(2)}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),la=function(){var e=C(D().m(function e(){var a,l,c,s,n,t;return D().w(function(e){while(1)switch(e.p=e.n){case 0:return me(!0),e.p=1,e.n=2,_({url:"/system/city-stats",method:"GET"});case 2:l=e.v,200===l.code&&null!==(a=l.data)&&void 0!==a&&a.cities&&(n=d(c=v(s=l.data.cities).call(s,0,6)).call(c,function(e,a){return{id:a+1,name:e.city,hotels:e.count}}),de(n)),e.n=4;break;case 3:e.p=3,t=e.v,console.error("\u83b7\u53d6\u57ce\u5e02\u7edf\u8ba1\u5931\u8d25:",t);case 4:return e.p=4,me(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),ca=function(){var e=C(D().m(function e(a){var l,c,s,n,t,r,i,o,u,m,f,p,x;return D().w(function(e){while(1)switch(e.p=e.n){case 0:return le(!0),e.p=1,c=Ue(a),e.n=2,_({url:"/hotel/list",method:"GET",data:{city:c,limit:4,sort:"price_desc"}});case 2:if(s=e.v,n=200===s.code&&Array.isArray(null===(l=s.data)||void 0===l?void 0:l.list)?s.data.list:[],!(n.length<4)){e.n=4;break}return e.n=3,_({url:"/hotel/list",method:"GET",data:{limit:4,sort:"price_desc"}});case 3:r=e.v,200===r.code&&Array.isArray(null===(t=r.data)||void 0===t?void 0:t.list)&&(m=new A(d(n).call(n,function(e){return e.id})),f=T(i=r.data.list).call(i,function(e){return!m.has(e.id)}),n=v(o=h(u=[]).call(u,M(n),M(f))).call(o,0,4));case 4:n.length>0?(p=d(n).call(n,function(e){var a,l,c;return{id:e.id,name:e.name,city:e.city,address:e.address,star:e.star,price:K(e.price),rating:e.score,reviews:e.reviews||0,image:null!==(a=e.cover_image)&&void 0!==a&&Y(a).call(a,"http")?e.cover_image:"http://1.14.207.212:8848".concat(e.cover_image),tags:v(l=T(c=Ve(e.tags)).call(c,function(e){var a;return!w(a=String(e)).call(a,":")})).call(l,0,4)}}),V(p),je(Ze(p))):(V([]),je(P)),e.n=6;break;case 5:e.p=5,x=e.v,console.error("\u83b7\u53d6\u63a8\u8350\u9152\u5e97\u5931\u8d25:",x);case 6:return e.p=6,le(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(a){return e.apply(this,arguments)}}(),sa=function(e){var a,l,c,s,i=t(e,2),o=i[0],d=i[1],u=n(h(a=h(l="".concat(o[0],"-")).call(l,o[1],"-")).call(a,o[2])),m=n(h(c=h(s="".concat(d[0],"-")).call(s,d[1],"-")).call(c,d[2]));H(function(e){return r(r({},e),{},{checkInDate:u.format("MM\u6708DD\u65e5"),checkInWeekday:u.format("dddd"),checkOutDate:m.format("MM\u6708DD\u65e5"),checkOutWeekday:m.format("dddd"),nights:m.diff(u,"day")})}),ze(!1)},na=function(){var e;if(k(e=q.keyword).call(e)||"\u8bf7\u9009\u62e9"!==q.city){var a={city:q.city,keyword:q.keyword||"",checkInDate:q.checkInDate,checkOutDate:q.checkOutDate,days:q.nights,priceType:We.price.value,starType:We.star.value};console.log("\u641c\u7d22\u53c2\u6570:",a),I("hotelSearchParams",a),console.log("\u8df3\u8f6c\u5230 list \u9875\u9762\uff0c\u53c2\u6570:",a),c.switchTab({url:"/pages/list/index",success:function(){console.log("\u8df3\u8f6c\u5230\u5217\u8868\u9875\u6210\u529f")},fail:function(e){console.error("\u8df3\u8f6c\u5931\u8d25:",e),S({title:"\u8df3\u8f6c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",icon:"error"})}})}else S({title:"\u8bf7\u9009\u62e9\u76ee\u7684\u5730\u6216\u8f93\u5165\u5173\u952e\u8bcd",icon:"none"})},ta=function(){var e=C(D().m(function e(a){var l;return D().w(function(e){while(1)switch(e.n){case 0:return l="\u4e0d\u9650\u57ce\u5e02"===a?"":a,Ie(l||"\u4e0d\u9650\u57ce\u5e02"),H(function(e){return r(r({},e),{},{city:l||"\u4e0d\u9650\u57ce\u5e02"})}),Ce(!1),e.n=1,O.all([ca(l),aa(l)]);case 1:return e.a(2)}},e)}));return function(a){return e.apply(this,arguments)}}(),ra=function(e){console.log("\u70b9\u51fb\u4e86\u65e5\u671f\u533a\u57df"),ze(!0)},ia=function(e){ge(e.id);var a=e.keyword||e.label,l="\u4e94\u661f\u7ea7"===a?"":a,s="\u4e94\u661f\u7ea7"===e.label?"5":We.star.value;H(function(e){return r(r({},e),{},{keyword:l})});var n={city:q.city,keyword:l,checkInDate:q.checkInDate,checkOutDate:q.checkOutDate,days:q.nights,priceType:We.price.value,starType:s};I("hotelSearchParams",n),c.switchTab({url:"/pages/list/index"})},oa=function(e){var a,l;console.log("\u70b9\u51fb\u9152\u5e97:",e.name),c.navigateTo({url:h(a=h(l="/pages/detail/index?id=".concat(e.id,"&checkIn=")).call(l,q.checkInDate,"&checkOut=")).call(a,q.checkOutDate)})},da=function(){var e=C(D().m(function e(){var a,l,c,s,n,t;return D().w(function(e){while(1)switch(e.p=e.n){case 0:return Oe(!0),e.p=1,e.n=2,_({url:"/system/location",method:"GET"});case 2:if(a=e.v,200!==a.code||!a.data){e.n=4;break}return l=a.data,c=l.city,s=l.province,n=c||s||"\u4e0a\u6d77\u5e02",Ie(n),H(function(e){return r(r({},e),{},{city:n})}),e.n=3,O.all([ca(n),aa(n)]);case 3:S({title:"\u5df2\u5b9a\u4f4d\u5230: ".concat(n),icon:"success",duration:1500}),e.n=5;break;case 4:throw new Error("\u5b9a\u4f4d\u89e3\u6790\u5931\u8d25");case 5:e.n=7;break;case 6:e.p=6,t=e.v,console.error("\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25:",t),S({title:"\u5b9a\u4f4d\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u9009\u62e9",icon:"none"});case 7:return e.p=7,Oe(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),ua=function(){return e.jsxs(a,{className:"popular-cities",children:[e.jsxs(a,{className:"section-title",children:[e.jsx(f,{className:"title",children:"\u70ed\u95e8\u57ce\u5e02"}),e.jsx(f,{className:"subtitle",children:"\u63a2\u7d22\u66f4\u591a\u76ee\u7684\u5730"})]}),e.jsx(i,{className:"cities-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:e.jsx(a,{className:"cities-container",children:d(oe).call(oe,function(l){return e.jsxs(a,{className:"city-item ".concat(w(Re).call(Re,l.name)?"active":""),onClick:function(){return ta(l.name)},children:[e.jsx(f,{className:"city-name",children:l.name}),e.jsxs(f,{className:"city-count",children:[l.hotels,"\u5bb6\u9152\u5e97"]})]},l.id)})})})]})};return e.jsxs(a,{className:"page-container",children:[e.jsxs(i,{className:"main-content",scrollY:!0,enhanced:!0,showScrollbar:!1,children:[e.jsx(o,{className:"banner-swiper",indicatorColor:"#999",indicatorActiveColor:"#3B82F6",circular:ne.length>=2,indicatorDots:!0,autoplay:ne.length>=2,interval:4e3,children:ne.length>0?d(ne).call(ne,function(l,s){return e.jsx(u,{children:e.jsxs(a,{className:"banner-item",onClick:function(){var e,a;c.navigateTo({url:h(e=h(a="/pages/detail/index?id=".concat(l.id,"&checkIn=")).call(a,q.checkInDate,"&checkOut=")).call(e,q.checkOutDate)})},children:[e.jsx(m,{className:"banner-image",src:l.image,mode:"aspectFill"}),e.jsxs(a,{className:"banner-content",children:[e.jsx(a,{className:"promotion-tag ".concat(l.tagClass),children:e.jsx(f,{className:"tag-text",children:l.tag})}),e.jsx(f,{className:"banner-title",children:l.title}),e.jsx(f,{className:"banner-subtitle",children:l.subtitle})]})]})},s)}):e.jsx(u,{children:e.jsx(a,{className:"banner-item",children:e.jsx(a,{style:{height:"180px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f5f5f5"},children:e.jsx(f,{children:"\u52a0\u8f7d\u4e2d..."})})})})}),e.jsx(a,{className:"search-section",children:e.jsxs(a,{className:"search-card",children:[e.jsxs(a,{className:"search-row location-row",children:[e.jsxs(a,{className:"location-left",onClick:function(){return Ce(!we)},children:[e.jsx(f,{className:"location-label",children:"\u4f4d\u7f6e: "}),e.jsx(f,{className:"location-value",children:q.city})]}),e.jsxs(a,{className:"location-btn",onClick:da,children:[e.jsx(p,{className:"btn-icon-svg",size:20}),e.jsx(f,{className:"btn-text",children:"\u6211\u7684\u4f4d\u7f6e"})]})]}),e.jsxs(a,{className:"search-row date-row",onClick:ra,hoverClass:"date-row-hover",children:[e.jsxs(a,{className:"date-item checkin",children:[e.jsx(f,{className:"date-label",children:"\u5165\u4f4f\u65e5\u671f"}),e.jsxs(a,{className:"date-info",children:[e.jsx(f,{className:"date-value",children:q.checkInDate}),e.jsx(f,{className:"date-weekday",children:q.checkInWeekday})]})]}),e.jsx(a,{className:"night-count",children:e.jsxs(f,{className:"night-text",children:[q.nights,"\u665a"]})}),e.jsxs(a,{className:"date-item checkout",children:[e.jsx(f,{className:"date-label",children:"\u79bb\u5e97\u65e5\u671f"}),e.jsxs(a,{className:"date-info",children:[e.jsx(f,{className:"date-value",children:q.checkOutDate}),e.jsx(f,{className:"date-weekday",children:q.checkOutWeekday})]})]})]}),e.jsxs(a,{className:"search-row keyword-row",children:[e.jsx(x,{className:"search-icon-svg",size:20,color:"#9CA3AF"}),e.jsx(j,{className:"search-input",placeholder:" \u5173\u952e\u5b57/\u4f4d\u7f6e/\u54c1\u724c/\u9152\u5e97\u540d",placeholderClass:"placeholder",value:q.keyword,onInput:function(e){return H(function(a){return r(r({},a),{},{keyword:e.detail.value})})},confirmType:"search",onConfirm:na}),q.keyword&&e.jsx(f,{className:"clear-icon",onClick:function(){return H(function(e){return r(r({},e),{},{keyword:""})})},children:"\u2715"})]}),e.jsxs(a,{className:"search-row rooms-row",style:{flexDirection:"column",alignItems:"flex-start",gap:"10px"},children:[e.jsxs(a,{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(f,{className:"rooms-label",children:"\u623f\u95f4"}),e.jsxs(a,{className:"rooms-controls",children:[e.jsx(N,{className:"control-btn minus",onClick:function(){return H(function(e){return r(r({},e),{},{rooms:Math.max(1,e.rooms-1)})})},children:"-"}),e.jsxs(f,{className:"rooms-count",children:[q.rooms,"\u95f4"]}),e.jsx(N,{className:"control-btn plus",onClick:function(){return H(function(e){return r(r({},e),{},{rooms:e.rooms+1})})},children:"+"})]})]}),e.jsxs(a,{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(f,{className:"rooms-label",style:{fontSize:"28rpx"},children:"\u6210\u4eba"}),e.jsxs(a,{className:"rooms-controls",children:[e.jsx(N,{className:"control-btn minus",onClick:function(){return H(function(e){return r(r({},e),{},{adults:Math.max(1,e.adults-1)})})},children:"-"}),e.jsxs(f,{className:"rooms-count",children:[q.adults,"\u4eba"]}),e.jsx(N,{className:"control-btn plus",onClick:function(){return H(function(e){return r(r({},e),{},{adults:e.adults+1})})},children:"+"})]})]}),e.jsxs(a,{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(f,{className:"rooms-label",style:{fontSize:"28rpx"},children:"\u513f\u7ae5"}),e.jsxs(a,{className:"rooms-controls",children:[e.jsx(N,{className:"control-btn minus",onClick:function(){return H(function(e){return r(r({},e),{},{children:Math.max(0,e.children-1)})})},children:"-"}),e.jsxs(f,{className:"rooms-count",children:[q.children,"\u4eba"]}),e.jsx(N,{className:"control-btn plus",onClick:function(){return H(function(e){return r(r({},e),{},{children:e.children+1})})},children:"+"})]})]})]}),e.jsxs(a,{className:"search-row filter-row",onClick:function(){He(r({},We)),Le(!0)},children:[e.jsxs(a,{className:"filter-left",children:[e.jsx(y,{className:"filter-icon-svg",size:24,color:"#2563eb"}),e.jsxs(a,{className:"filter-info",children:[e.jsx(f,{className:"filter-label",children:"\u4ef7\u683c/\u661f\u7ea7"}),e.jsx(f,{className:"filter-value ".concat("all"===We.price.value&&"all"===We.star.value?"placeholder":""),children:"all"===We.price.value&&"all"===We.star.value?"\u8bf7\u9009\u62e9\u4ef7\u683c/\u661f\u7ea7":h(l="".concat(We.price.label," \xb7 ")).call(l,We.star.label)})]})]}),e.jsx(f,{className:"arrow-icon",children:"\u203a"})]}),e.jsx(N,{className:"search-button",onClick:na,loading:Ae,disabled:Ae,children:e.jsx(f,{className:"button-text",children:Ae?"\u641c\u7d22\u4e2d...":"\u5f00\u59cb\u641c\u7d22"})})]})}),ua(),e.jsxs(a,{className:"quick-tags-section",children:[e.jsxs(a,{className:"section-header",children:[e.jsx(f,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),e.jsx(f,{className:"section-subtitle",children:"\u667a\u80fd\u63a8\u8350\u70ed\u95e8\u7b5b\u9009"})]}),e.jsx(i,{className:"tags-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:e.jsx(a,{className:"tags-container",children:d(xe).call(xe,function(l){return e.jsx(a,{className:"tag-item ".concat(ve===l.id?"active":""),onClick:function(){return ia(l)},children:e.jsx(f,{className:"tag-label",children:l.label})},l.id)})})})]}),e.jsxs(a,{className:"recent-section",children:[e.jsx(a,{className:"section-header",children:e.jsxs(a,{className:"section-title-wrapper",children:[e.jsx(f,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),e.jsx(f,{className:"section-badge",children:U.length})]})}),e.jsx(i,{className:"hotels-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:e.jsx(a,{className:"hotels-container",children:ae?e.jsx(a,{style:{padding:"20px",textAlign:"center"},children:e.jsx(f,{children:"\u52a0\u8f7d\u4e2d..."})}):U.length>0?d(U).call(U,function(l){var c,s;return e.jsxs(a,{className:"hotel-card",onClick:function(){return oa(l)},children:[e.jsx(m,{className:"hotel-image",src:l.image,mode:"aspectFill"}),e.jsxs(a,{className:"hotel-info",children:[e.jsx(f,{className:"hotel-name",children:l.name}),l.rating&&e.jsxs(a,{className:"hotel-rating",children:[e.jsxs(f,{className:"rating-value",children:["\u2605 ",l.rating]}),l.reviews>0&&e.jsxs(f,{className:"rating-reviews",children:["(",l.reviews,"\u6761\u8bc4\u4ef7)"]})]}),e.jsx(a,{className:"hotel-tags",children:d(c=v(s=l.tags).call(s,0,2)).call(c,function(a,l){return e.jsx(f,{className:"hotel-tag",children:a},l)})}),e.jsxs(a,{className:"hotel-price",children:[e.jsx(f,{className:"price-symbol",children:"\xa5"}),e.jsx(f,{className:"price-value",children:l.price.toLocaleString()}),e.jsx(f,{className:"price-unit",children:"\u8d77/\u665a"})]})]})]},l.id)}):e.jsx(a,{style:{padding:"20px",textAlign:"center"},children:e.jsx(f,{children:"\u6682\u65e0\u63a8\u8350\u9152\u5e97"})})})})]}),e.jsx(a,{className:"bottom-spacing"})]}),e.jsx(W,{}),e.jsx(g,{visible:Xe,position:"bottom",round:!0,onClose:function(){return Le(!1)},children:e.jsxs(a,{className:"filter-popup-content",children:[e.jsxs(a,{className:"popup-header",children:[e.jsx(f,{className:"popup-title",children:"\u4ef7\u683c/\u661f\u7ea7\u7b5b\u9009"}),e.jsx(f,{className:"popup-close",onClick:function(){return Le(!1)},children:"\u2715"})]}),e.jsxs(i,{className:"popup-body",scrollY:!0,children:[e.jsxs(a,{className:"filter-group",children:[e.jsx(f,{className:"group-title",children:"\u4ef7\u683c\u9884\u7b97"}),e.jsx(a,{className:"options-grid",children:d(X).call(X,function(l){return e.jsx(a,{className:"option-item ".concat(qe.price.value===l.value?"active":""),onClick:function(){return He(function(e){return r(r({},e),{},{price:l})})},children:l.label},l.value)})})]}),e.jsxs(a,{className:"filter-group",children:[e.jsx(f,{className:"group-title",children:"\u661f\u7ea7\u6807\u51c6"}),e.jsx(a,{className:"options-grid",children:d(L).call(L,function(l){return e.jsx(a,{className:"option-item ".concat(qe.star.value===l.value?"active":""),onClick:function(){return He(function(e){return r(r({},e),{},{star:l})})},children:l.label},l.value)})})]})]}),e.jsxs(a,{className:"popup-footer",children:[e.jsx(N,{className:"reset-btn",onClick:function(){return He({price:X[0],star:L[0]})},children:"\u91cd\u7f6e"}),e.jsx(N,{className:"confirm-btn",onClick:Qe,children:"\u5b8c\u6210"})]})]})}),Ee&&e.jsx(b,{visible:Ee,className:"home-calendar-wrapper",type:"range",startDate:n().format("YYYY-MM-DD"),endDate:n().add(12,"month").format("YYYY-MM-DD"),onClose:function(){return ze(!1)},onConfirm:sa,showConfirm:!0,poppable:!0,position:"bottom",round:!0,closeable:!0,style:{height:"88%","--nutui-calendar-confirm-btn-height":"48px"}}),Ae&&e.jsx(a,{className:"loading-overlay",children:e.jsxs(a,{className:"loading-content",children:[e.jsx(a,{className:"loading-spinner"}),e.jsx(f,{className:"loading-text",children:"\u52a0\u8f7d\u4e2d..."})]})}),we&&e.jsx(a,{className:"city-picker-overlay",onClick:function(){return Ce(!1)},children:e.jsxs(a,{className:"city-picker",onClick:function(e){return e.stopPropagation()},children:[e.jsxs(a,{className:"picker-header",children:[e.jsx(f,{className:"picker-title",children:"\u9009\u62e9\u57ce\u5e02"}),e.jsx(f,{className:"picker-close",onClick:function(){return Ce(!1)},children:"\u2715"})]}),e.jsx(a,{className:"picker-search-box",style:{padding:"10px 16px",borderBottom:"1px solid #f0f0f0"},children:e.jsx(j,{className:"picker-search-input",placeholder:"\u8f93\u5165\u57ce\u5e02\u540d\u79f0\u641c\u7d22",style:{backgroundColor:"#f5f5f5",padding:"8px 12px",borderRadius:"8px",fontSize:"14px"},onConfirm:function(e){var a,l=k(a=e.detail.value).call(a);l&&ta(l)},confirmType:"search"})}),e.jsxs(i,{className:"picker-list",scrollY:!0,children:[e.jsxs(a,{className:"picker-item ".concat(Re&&"\u8bf7\u9009\u62e9"!==Re&&"\u4e0d\u9650\u57ce\u5e02"!==Re?"":"selected"),onClick:function(){return ta("\u4e0d\u9650\u57ce\u5e02")},children:[e.jsx(f,{className:"picker-item-name",style:{fontWeight:"bold"},children:"\u4e0d\u9650\u57ce\u5e02"}),e.jsx(f,{className:"picker-item-count",children:"\u5168\u90e8\u9152\u5e97"})]}),d(oe).call(oe,function(l){return e.jsxs(a,{className:"picker-item ".concat(w(Re).call(Re,l.name)?"selected":""),onClick:function(){return ta(l.name)},children:[e.jsx(f,{className:"picker-item-name",children:l.name}),e.jsxs(f,{className:"picker-item-count",children:[l.hotels,"\u5bb6\u9152\u5e97"]})]},l.id)})]})]})})]})}export{$ as default};
