import{g as t,r as o,_ as a,s as r,a as n}from"./vendors.576a9c55.js";var e="http://localhost:3000/api",s=function(s){var c,i=s.url,d=s.method,l=void 0===d?"GET":d,u=s.data,v=t("token");return o({url:a(c="".concat(e)).call(c,i),method:l,data:u,header:{"Content-Type":"application/json",Authorization:v?"Bearer ".concat(v):""}}).then(function(t){var o=t.statusCode,a=t.data;if(o>=200&&o<300)return a;var e=a&&a.msg?a.msg:"\u670d\u52a1\u5668\u9519\u8bef: ".concat(o);return r({title:e,icon:"none"}),n.reject(a||{msg:"\u672a\u77e5\u9519\u8bef"})}).catch(function(t){var o=(null===t||void 0===t?void 0:t.msg)||(null===t||void 0===t?void 0:t.errMsg)||"\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38";throw console.error("\u8be6\u60c5\u8bf7\u6c42\u5f02\u5e38:",o),{msg:o}})};export{s as r};
