import{l as e,m as a,n as s,o as c,t as l,p as n,q as i,V as t,S as r,s as o,u as d,I as m,T as h,B as u,v as x,w as j,x as N,y as p,P as f,C as g,z as b,A as k,D as v,E as y,F as w,G as C}from"./vendors.6a759175.js";a.locale("zh-cn");var D=[{id:1,icon:"\u2b50",label:"\u4e94\u661f\u7ea7",type:"star"},{id:2,icon:"\ud83d\udcf1",label:"\u7f51\u7ea2\u535a\u4e3b\u63a8\u8350",type:"influencer"},{id:3,icon:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",label:"\u4eb2\u5b50\u4e50\u56ed",type:"family"},{id:4,icon:"\ud83c\udfa8",label:"\u8bbe\u8ba1\u7cbe\u54c1",type:"design"},{id:5,icon:"\ud83c\udfca",label:"\u65e0\u8fb9\u6cf3\u6c60",type:"pool"},{id:6,icon:"\ud83c\udf7d\ufe0f",label:"\u7c73\u5176\u6797\u9910\u5385",type:"restaurant"}],M=[{label:"\u4e0d\u9650",value:"all"},{label:"\xa50-150",value:"0-150"},{label:"\xa5150-300",value:"150-300"},{label:"\xa5300-600",value:"300-600"},{label:"\xa5600+",value:"600-up"}],S=[{label:"\u4e0d\u9650",value:"all"},{label:"\u4e8c\u661f\u53ca\u4ee5\u4e0b/\u7ecf\u6d4e\u578b",value:"2"},{label:"\u4e09\u661f/\u8212\u9002",value:"3"},{label:"\u56db\u661f/\u9ad8\u6863",value:"4"},{label:"\u4e94\u661f/\u8c6a\u534e",value:"5"}],T=[{id:1,name:"\u4e0a\u6d77\u4e2d\u5fc3J\u9152\u5e97",price:2880,rating:4.9,reviews:1280,image:"https://modao.cc/agent-py/media/generated_images/2026-02-04/a55fae9d04fa47b383be512902d9f2b1.jpg",tags:["\u4e94\u661f\u7ea7","\u6c5f\u666f\u623f","\u884c\u653f\u9152\u5eca"]},{id:2,name:"\u548c\u5e73\u996d\u5e97",price:1920,rating:4.8,reviews:2456,image:"https://modao.cc/agent-py/media/generated_images/2026-02-04/f3b3ec4f3810412ca44d6a60c5ae0652.jpg",tags:["\u5386\u53f2\u5efa\u7b51","\u5916\u6ee9\u666f\u89c2","\u8001\u4e0a\u6d77\u98ce\u60c5"]},{id:3,name:"\u517b\u4e91\u5b89\u7f26",price:4500,rating:4.9,reviews:892,image:"https://modao.cc/agent-py/media/generated_images/2026-02-04/d6da6cead0c74fa3bb26f2f684f5386a.jpg",tags:["\u5962\u534e\u5ea6\u5047","\u56ed\u6797\u666f\u89c2","\u79c1\u5bc6\u6027\u4f73"]},{id:4,name:"\u5b9d\u683c\u4e3d\u9152\u5e97",price:3800,rating:4.9,reviews:1567,image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=500&q=80",tags:["\u5962\u534e\u54c1\u724c","\u57ce\u5e02\u666f\u89c2","\u9ad8\u7aef\u670d\u52a1"]}],Y=[{id:1,name:"\u4e0a\u6d77",hotels:1280},{id:2,name:"\u5317\u4eac",hotels:980},{id:3,name:"\u5e7f\u5dde",hotels:760},{id:4,name:"\u6df1\u5733",hotels:820},{id:5,name:"\u676d\u5dde",hotels:540},{id:6,name:"\u6210\u90fd",hotels:630}];function I(){var I,O=e.useState({city:"\u4e0a\u6d77\u5e02",checkInDate:a().format("MM\u6708DD\u65e5"),checkInWeekday:a().format("dddd"),checkOutDate:a().add(1,"day").format("MM\u6708DD\u65e5"),checkOutWeekday:a().add(1,"day").format("dddd"),nights:1,keyword:"",guests:2,rooms:1}),W=s(O,2),q=W[0],z=W[1],A=e.useState(null),F=s(A,2),X=F[0],B=F[1],L=e.useState(!1),_=s(L,2);_[0],_[1];var G=e.useState(!1),H=s(G,2),P=H[0],E=H[1],J=e.useState("\u4e0a\u6d77\u5e02"),V=s(J,2),K=V[0],Q=V[1],R=e.useState(!1),U=s(R,2),Z=U[0],$=U[1],ee=e.useState(!1),ae=s(ee,2),se=ae[0],ce=ae[1],le=e.useState({price:M[0],star:S[0]}),ne=s(le,2),ie=ne[0],te=ne[1],re=e.useState(!1),oe=s(re,2),de=oe[0],me=oe[1],he=e.useState(c({},ie)),ue=s(he,2),xe=ue[0],je=ue[1],Ne=function(){te(c({},xe)),me(!1)};l.useLoad(function(){console.log("\u9875\u9762\u52a0\u8f7d\u5b8c\u6210"),pe()});var pe=function(){$(!0),n(function(){$(!1)},500)},fe=function(e){var l,n,i,t,r=s(e,2),o=r[0],d=r[1],m=a(j(l=j(n="".concat(o[0],"-")).call(n,o[1],"-")).call(l,o[2])),h=a(j(i=j(t="".concat(d[0],"-")).call(t,d[1],"-")).call(i,d[2]));z(function(e){return c(c({},e),{},{checkInDate:m.format("MM\u6708DD\u65e5"),checkInWeekday:m.format("dddd"),checkOutDate:h.format("MM\u6708DD\u65e5"),checkOutWeekday:h.format("dddd"),nights:h.diff(m,"day")})}),ce(!1)},ge=function(){var e;if(k(e=q.keyword).call(e)||"\u8bf7\u9009\u62e9"!==q.city){var a={city:q.city,keyword:q.keyword||"",checkInDate:q.checkInDate,checkOutDate:q.checkOutDate,days:q.nights,priceType:ie.price.value,starType:ie.star.value};console.log("\u641c\u7d22\u53c2\u6570:",a),y("hotelSearchParams",a),console.log("\u8df3\u8f6c\u5230 list \u9875\u9762\uff0c\u53c2\u6570:",a),l.switchTab({url:"/pages/list/index",success:function(){console.log("\u8df3\u8f6c\u5230\u5217\u8868\u9875\u6210\u529f")},fail:function(e){console.error("\u8df3\u8f6c\u5931\u8d25:",e),v({title:"\u8df3\u8f6c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",icon:"error"})}})}else v({title:"\u8bf7\u9009\u62e9\u76ee\u7684\u5730\u6216\u8f93\u5165\u5173\u952e\u8bcd",icon:"none"})},be=function(e){Q(e),z(function(a){return c(c({},a),{},{city:e})}),E(!1)},ke=function(e){console.log("\u70b9\u51fb\u4e86\u65e5\u671f\u533a\u57df"),ce(!0)},ve=function(e){switch(B(e.id),console.log("\u9009\u4e2d\u6807\u7b7e:",e),e.type){case"star":l.navigateTo({url:"/pages/filter/index?type=star&value=5"});break;case"family":l.navigateTo({url:"/pages/filter/index?type=facility&value=family"});break;default:z(function(a){return c(c({},a),{},{keyword:e.label})})}},ye=function(e){console.log("\u70b9\u51fb\u9152\u5e97:",e.name),l.navigateTo({url:"/pages/hotel-detail/index?id=".concat(e.id)})},we=function(){w({title:"\u786e\u8ba4\u6e05\u7a7a",content:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6d4f\u89c8\u5386\u53f2\u5417\uff1f",success:function(e){e.confirm&&v({title:"\u5df2\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55",icon:"success",duration:1500})}})},Ce=function(){C({type:"wgs84",success:function(e){console.log("\u5f53\u524d\u4f4d\u7f6e:",e);var a="\u4e0a\u6d77\u5e02";Q(a),z(function(e){return c(c({},e),{},{city:a})}),v({title:"\u5df2\u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e",icon:"success",duration:1500})},fail:function(e){console.error("\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25:",e),v({title:"\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6743\u9650",icon:"error",duration:2e3})}})},De=function(){return i.jsxs(t,{className:"popular-cities",children:[i.jsxs(t,{className:"section-title",children:[i.jsx(h,{className:"title",children:"\u70ed\u95e8\u57ce\u5e02"}),i.jsx(h,{className:"subtitle",children:"\u63a2\u7d22\u66f4\u591a\u76ee\u7684\u5730"})]}),i.jsx(r,{className:"cities-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:i.jsx(t,{className:"cities-container",children:N(Y).call(Y,function(e){return i.jsxs(t,{className:"city-item ".concat(b(K).call(K,e.name)?"active":""),onClick:function(){return be(e.name)},children:[i.jsx(h,{className:"city-name",children:e.name}),i.jsxs(h,{className:"city-count",children:[e.hotels,"\u5bb6\u9152\u5e97"]})]},e.id)})})})]})};return i.jsxs(t,{className:"page-container",children:[i.jsxs(r,{className:"main-content",scrollY:!0,enhanced:!0,showScrollbar:!1,children:[i.jsxs(o,{className:"banner-swiper",indicatorColor:"#999",indicatorActiveColor:"#3B82F6",circular:!0,indicatorDots:!0,autoplay:!0,interval:4e3,children:[i.jsx(d,{children:i.jsxs(t,{className:"banner-item",onClick:function(){return l.navigateTo({url:"/pages/promotion/index?id=1"})},children:[i.jsx(m,{className:"banner-image",src:"https://miaobi-lite.bj.bcebos.com/miaobi/5mao/b%275LiJ5LqaMTgw5bqm5rW35pmv6YWS5bqXXzE3MzA3NTcyOTkuMTk3MDIzNA%3D%3D%27/0.png",mode:"aspectFill"}),i.jsxs(t,{className:"banner-content",children:[i.jsx(t,{className:"promotion-tag",children:i.jsx(h,{className:"tag-text",children:"\u9650\u65f6\u7279\u60e0"})}),i.jsx(h,{className:"banner-title",children:"2026\u6625\u5b63\u5927\u4fc3\uff1a\u6d77\u666f\u623f5\u6298\u8d77"}),i.jsx(h,{className:"banner-subtitle",children:"\u611f\u53d7\u547c\u5438\u95f4\u7684\u6d77\u6ee8\u6d6a\u6f2b"})]})]})}),i.jsx(d,{children:i.jsxs(t,{className:"banner-item",onClick:function(){return l.navigateTo({url:"/pages/promotion/index?id=2"})},children:[i.jsx(m,{className:"banner-image",src:"https://digital.ihg.com.cn/is/image/ihg/crowne-plaza-lanzhou-7876381686-4x3",mode:"aspectFill"}),i.jsxs(t,{className:"banner-content",children:[i.jsx(t,{className:"promotion-tag tag-premium",children:i.jsx(h,{className:"tag-text",children:"\u4f1a\u5458\u4e13\u4eab"})}),i.jsx(h,{className:"banner-title",children:"\u767d\u91d1\u4f1a\u5458\u4e13\u4eab\uff1a\u623f\u578b\u514d\u8d39\u5347\u7ea7"}),i.jsx(h,{className:"banner-subtitle",children:"\u5c0a\u4eab\u5962\u534e\u4f4f\u5bbf\u4f53\u9a8c"})]})]})}),i.jsx(d,{children:i.jsxs(t,{className:"banner-item",onClick:function(){return l.navigateTo({url:"/pages/promotion/index?id=3"})},children:[i.jsx(m,{className:"banner-image",src:"https://plus.unsplash.com/premium_photo-1661963123153-5471a95b7042?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",mode:"aspectFill"}),i.jsxs(t,{className:"banner-content",children:[i.jsx(t,{className:"promotion-tag tag-flash",children:i.jsx(h,{className:"tag-text",children:"\u95ea\u8d2d"})}),i.jsx(h,{className:"banner-title",children:"\u5468\u672b\u95ea\u8d2d\uff1a\u7cbe\u54c1\u9152\u5e97299\u5143\u8d77"}),i.jsx(h,{className:"banner-subtitle",children:"\u9650\u65f6\u62a2\u8d2d\uff0c\u624b\u6162\u65e0"})]})]})})]}),i.jsx(t,{className:"search-section",children:i.jsxs(t,{className:"search-card",children:[i.jsxs(t,{className:"search-row location-row",children:[i.jsxs(t,{className:"location-select",onClick:function(){return E(!P)},children:[i.jsx(h,{className:"location-icon",children:"\ud83d\udccd"}),i.jsxs(t,{className:"location-info",children:[i.jsx(h,{className:"location-label",children:"\u76ee\u7684\u5730"}),i.jsx(h,{className:"location-value",children:q.city})]}),i.jsx(h,{className:"arrow-icon",children:"\u203a"})]}),i.jsxs(u,{className:"location-btn",onClick:Ce,children:[i.jsx(h,{className:"btn-icon",children:"\ud83d\udccd"}),i.jsx(h,{className:"btn-text",children:"\u6211\u7684\u4f4d\u7f6e"})]})]}),i.jsxs(t,{className:"search-row date-row",onClick:ke,hoverClass:"date-row-hover",children:[i.jsxs(t,{className:"date-item checkin",children:[i.jsx(h,{className:"date-label",children:"\u5165\u4f4f\u65e5\u671f"}),i.jsxs(t,{className:"date-info",children:[i.jsx(h,{className:"date-value",children:q.checkInDate}),i.jsx(h,{className:"date-weekday",children:q.checkInWeekday})]})]}),i.jsx(t,{className:"night-count",children:i.jsxs(h,{className:"night-text",children:[q.nights,"\u665a"]})}),i.jsxs(t,{className:"date-item checkout",children:[i.jsx(h,{className:"date-label",children:"\u79bb\u5e97\u65e5\u671f"}),i.jsxs(t,{className:"date-info",children:[i.jsx(h,{className:"date-value",children:q.checkOutDate}),i.jsx(h,{className:"date-weekday",children:q.checkOutWeekday})]})]})]}),i.jsxs(t,{className:"search-row keyword-row",children:[i.jsx(h,{className:"search-icon",children:"\ud83d\udd0d"}),i.jsx(x,{className:"search-input",placeholder:"\u5173\u952e\u5b57/\u4f4d\u7f6e/\u54c1\u724c/\u9152\u5e97\u540d",placeholderClass:"placeholder",value:q.keyword,onInput:function(e){return z(function(a){return c(c({},a),{},{keyword:e.detail.value})})},confirmType:"search",onConfirm:ge}),q.keyword&&i.jsx(h,{className:"clear-icon",onClick:function(){return z(function(e){return c(c({},e),{},{keyword:""})})},children:"\u2715"})]}),i.jsxs(t,{className:"search-row rooms-row",children:[i.jsx(h,{className:"rooms-label",children:"\u623f\u95f4\u6570\u91cf"}),i.jsxs(t,{className:"rooms-controls",children:[i.jsx(u,{className:"control-btn minus",onClick:function(){return z(function(e){return c(c({},e),{},{rooms:Math.max(1,e.rooms-1)})})},children:"-"}),i.jsxs(h,{className:"rooms-count",children:[q.rooms,"\u95f4"]}),i.jsx(u,{className:"control-btn plus",onClick:function(){return z(function(e){return c(c({},e),{},{rooms:e.rooms+1})})},children:"+"})]})]}),i.jsxs(t,{className:"search-row filter-row",onClick:function(){je(c({},ie)),me(!0)},hoverClass:"row-hover",children:[i.jsx(h,{className:"filter-label",children:"\u4ef7\u683c/\u661f\u7ea7"}),i.jsxs(t,{className:"filter-display",children:[i.jsx(h,{className:"filter-value ".concat("all"===ie.price.value&&"all"===ie.star.value?"placeholder":""),children:"all"===ie.price.value&&"all"===ie.star.value?"\u8bf7\u9009\u62e9\u4ef7\u683c/\u661f\u7ea7":j(I="".concat(ie.price.label," \xb7 ")).call(I,ie.star.label)}),i.jsx(h,{className:"arrow-icon",children:"\u203a"})]})]}),i.jsx(u,{className:"search-button",onClick:ge,loading:Z,disabled:Z,children:i.jsx(h,{className:"button-text",children:Z?"\u641c\u7d22\u4e2d...":"\u5f00\u59cb\u641c\u7d22"})})]})}),De(),i.jsxs(t,{className:"quick-tags-section",children:[i.jsxs(t,{className:"section-header",children:[i.jsx(h,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),i.jsx(h,{className:"section-subtitle",children:"\u667a\u80fd\u63a8\u8350\u70ed\u95e8\u7b5b\u9009"})]}),i.jsx(r,{className:"tags-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:i.jsx(t,{className:"tags-container",children:N(D).call(D,function(e){return i.jsxs(t,{className:"tag-item ".concat(X===e.id?"active":""),onClick:function(){return ve(e)},children:[i.jsx(h,{className:"tag-icon",children:e.icon}),i.jsx(h,{className:"tag-label",children:e.label})]},e.id)})})})]}),i.jsxs(t,{className:"recent-section",children:[i.jsxs(t,{className:"section-header",children:[i.jsxs(t,{className:"section-title-wrapper",children:[i.jsx(h,{className:"section-title",children:"\u6700\u8fd1\u770b\u8fc7"}),i.jsx(h,{className:"section-badge",children:T.length})]}),i.jsx(h,{className:"clear-history",onClick:we,children:"\u6e05\u7a7a\u5386\u53f2"})]}),i.jsx(r,{className:"hotels-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:i.jsx(t,{className:"hotels-container",children:N(T).call(T,function(e){var a,s;return i.jsxs(t,{className:"hotel-card",onClick:function(){return ye(e)},children:[i.jsx(m,{className:"hotel-image",src:e.image,mode:"aspectFill"}),i.jsxs(t,{className:"hotel-info",children:[i.jsx(h,{className:"hotel-name",children:e.name}),i.jsxs(t,{className:"hotel-rating",children:[i.jsx(h,{className:"rating-star",children:"\u2b50"}),i.jsx(h,{className:"rating-value",children:e.rating}),i.jsxs(h,{className:"rating-reviews",children:["(",e.reviews,"\u6761\u8bc4\u4ef7)"]})]}),i.jsx(t,{className:"hotel-tags",children:N(a=p(s=e.tags).call(s,0,2)).call(a,function(e,a){return i.jsx(h,{className:"hotel-tag",children:e},a)})}),i.jsxs(t,{className:"hotel-price",children:[i.jsx(h,{className:"price-symbol",children:"\xa5"}),i.jsx(h,{className:"price-value",children:e.price.toLocaleString()}),i.jsx(h,{className:"price-unit",children:"\u8d77/\u665a"})]})]})]},e.id)})})})]}),i.jsx(t,{className:"bottom-spacing"})]}),i.jsx(f,{visible:de,position:"bottom",round:!0,onClose:function(){return me(!1)},children:i.jsxs(t,{className:"filter-popup-content",children:[i.jsxs(t,{className:"popup-header",children:[i.jsx(h,{className:"popup-title",children:"\u4ef7\u683c/\u661f\u7ea7\u7b5b\u9009"}),i.jsx(h,{className:"popup-close",onClick:function(){return me(!1)},children:"\u2715"})]}),i.jsxs(r,{className:"popup-body",scrollY:!0,children:[i.jsxs(t,{className:"filter-group",children:[i.jsx(h,{className:"group-title",children:"\u4ef7\u683c\u9884\u7b97"}),i.jsx(t,{className:"options-grid",children:N(M).call(M,function(e){return i.jsx(t,{className:"option-item ".concat(xe.price.value===e.value?"active":""),onClick:function(){return je(function(a){return c(c({},a),{},{price:e})})},children:e.label},e.value)})})]}),i.jsxs(t,{className:"filter-group",children:[i.jsx(h,{className:"group-title",children:"\u661f\u7ea7\u6807\u51c6"}),i.jsx(t,{className:"options-grid",children:N(S).call(S,function(e){return i.jsx(t,{className:"option-item ".concat(xe.star.value===e.value?"active":""),onClick:function(){return je(function(a){return c(c({},a),{},{star:e})})},children:e.label},e.value)})})]})]}),i.jsxs(t,{className:"popup-footer",children:[i.jsx(u,{className:"reset-btn",onClick:function(){return je({price:M[0],star:S[0]})},children:"\u91cd\u7f6e"}),i.jsx(u,{className:"confirm-btn",onClick:Ne,children:"\u5b8c\u6210"})]})]})}),se&&i.jsx(g,{visible:se,type:"range",startDate:a().format("YYYY-MM-DD"),endDate:a().add(6,"month").format("YYYY-MM-DD"),onClose:function(){return ce(!1)},onConfirm:fe}),Z&&i.jsx(t,{className:"loading-overlay",children:i.jsxs(t,{className:"loading-content",children:[i.jsx(t,{className:"loading-spinner"}),i.jsx(h,{className:"loading-text",children:"\u52a0\u8f7d\u4e2d..."})]})}),P&&i.jsx(t,{className:"city-picker-overlay",onClick:function(){return E(!1)},children:i.jsxs(t,{className:"city-picker",onClick:function(e){return e.stopPropagation()},children:[i.jsxs(t,{className:"picker-header",children:[i.jsx(h,{className:"picker-title",children:"\u9009\u62e9\u57ce\u5e02"}),i.jsx(h,{className:"picker-close",onClick:function(){return E(!1)},children:"\u2715"})]}),i.jsx(r,{className:"picker-list",scrollY:!0,children:N(Y).call(Y,function(e){return i.jsxs(t,{className:"picker-item ".concat(b(K).call(K,e.name)?"selected":""),onClick:function(){return be(e.name)},children:[i.jsx(h,{className:"picker-item-name",children:e.name}),i.jsxs(h,{className:"picker-item-count",children:[e.hotels,"\u5bb6\u9152\u5e97"]})]},e.id)})})]})})]})}export{I as default};
