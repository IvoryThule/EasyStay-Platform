import{p as e,q as a,u as s,v as c,M as l,w as n,V as t,T as r,S as i,x as o,I as d,B as u,m as h,n as m,s as x,_ as p,y as f,z as j,A as N,C as v,t as g,D as y,E as b,F as k,G as w,P as C,H as S,J as D,K as T,L as I,N as M,O}from"./vendors.576a9c55.js";import{r as Y}from"./common.41365892.js";function E(){var N=e.useState(!1),v=a(N,2),g=v[0],y=v[1],b=e.useState(""),k=a(b,2),w=k[0],C=k[1],S=e.useState([{role:"ai",content:"\u60a8\u597d\uff01\u6211\u662f EasyStay \u667a\u80fd\u7ba1\u5bb6\uff0c\u5f88\u9ad8\u5174\u4e3a\u60a8\u670d\u52a1\u3002"}]),D=a(S,2),T=D[0],I=D[1],M=e.useState(!1),O=a(M,2),E=O[0],A=O[1],G=e.useState(""),W=a(G,2),_=W[0],P=W[1],B=e.useState({x:0,y:500}),F=a(B,2),L=F[0],X=F[1];e.useEffect(function(){var e=s();X({x:e.windowWidth-70,y:e.windowHeight-160})},[]);var q=function(){var e=h(m().m(function e(){var a,s,c,l,n;return m().w(function(e){while(1)switch(e.p=e.n){case 0:if(j(w).call(w)&&!E){e.n=1;break}return e.a(2);case 1:return s={role:"user",content:w},c=p(a=[]).call(a,f(T),[s]),I(c),C(""),A(!0),P("msg-".concat(c.length-1)),e.p=2,e.n=3,Y({url:"/ai/chat",method:"POST",data:{prompt:s.content}});case 3:l=e.v,200===l.code&&(n={role:"ai",content:l.data.content},I(function(e){var a;return p(a=[]).call(a,f(e),[n])}),P("msg-".concat(T.length+1))),e.n=5;break;case 4:e.p=4,e.v,x({title:"\u7f51\u7edc\u5f02\u5e38",icon:"none"});case 5:return e.p=5,A(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}();return c.jsx(l,{className:"ai-movable-area",children:c.jsxs(n,{className:"float-ball-wrapper",direction:"all",x:L.x,y:L.y,outOfBounds:!1,children:[g&&c.jsxs(t,{className:"chat-window",onClick:function(e){return e.stopPropagation()},children:[c.jsxs(t,{className:"chat-header",children:[c.jsx(r,{className:"title",children:"AI \u667a\u80fd\u52a9\u7406"}),c.jsx(t,{className:"close",onClick:function(){return y(!1)},children:"\u2715"})]}),c.jsxs(i,{className:"message-list",scrollY:!0,scrollIntoView:_,scrollWithAnimation:!0,children:[o(T).call(T,function(e,a){return c.jsx(t,{id:"msg-".concat(a),className:"msg-item ".concat(e.role),children:c.jsx(t,{className:"msg-bubble",children:e.content})},a)}),E&&c.jsx(t,{className:"msg-item ai",children:c.jsx(t,{className:"msg-bubble",children:"\u601d\u8003\u4e2d..."})})]}),c.jsxs(t,{className:"chat-input-area",children:[c.jsx(d,{className:"input",value:w,onInput:function(e){return C(e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u95ee\u9898...",confirmType:"send",onConfirm:q}),c.jsx(u,{className:"send-btn",onClick:q,loading:E,children:"\u53d1\u9001"})]})]}),c.jsx(t,{className:"float-ball",onClick:function(){return y(!g)},children:c.jsx(r,{children:"\ud83e\udd16"})})]})})}N.locale("zh-cn");var A=[{id:1,label:"\u4e94\u661f\u7ea7",type:"star"},{id:2,label:"\u7f51\u7ea2\u63a8\u8350",type:"influencer"},{id:3,label:"\u4eb2\u5b50\u9152\u5e97",type:"family"},{id:4,label:"\u8bbe\u8ba1\u7cbe\u54c1",type:"design"},{id:5,label:"\u6e38\u6cf3\u6c60",type:"pool"},{id:6,label:"\u7f8e\u98df\u9910\u5385",type:"restaurant"}],G=[{label:"\u4e0d\u9650",value:"all"},{label:"\xa50-150",value:"0-150"},{label:"\xa5150-300",value:"150-300"},{label:"\xa5300-600",value:"300-600"},{label:"\xa5600+",value:"600-up"}],W=[{label:"\u4e0d\u9650",value:"all"},{label:"\u4e8c\u661f\u53ca\u4ee5\u4e0b/\u7ecf\u6d4e\u578b",value:"2"},{label:"\u4e09\u661f/\u8212\u9002",value:"3"},{label:"\u56db\u661f/\u9ad8\u6863",value:"4"},{label:"\u4e94\u661f/\u8c6a\u534e",value:"5"}],_=[{id:1,name:"\u4e0a\u6d77",hotels:1280},{id:2,name:"\u5317\u4eac",hotels:980},{id:3,name:"\u5e7f\u5dde",hotels:760},{id:4,name:"\u6df1\u5733",hotels:820},{id:5,name:"\u676d\u5dde",hotels:540},{id:6,name:"\u6210\u90fd",hotels:630}];function P(){var s,l=e.useState({city:"\u4e0a\u6d77\u5e02",checkInDate:N().format("MM\u6708DD\u65e5"),checkInWeekday:N().format("dddd"),checkOutDate:N().add(1,"day").format("MM\u6708DD\u65e5"),checkOutWeekday:N().add(1,"day").format("dddd"),nights:1,keyword:"",guests:2,rooms:1}),n=a(l,2),P=n[0],B=n[1],F=e.useState([]),L=a(F,2),X=L[0],q=L[1],z=e.useState(!1),H=a(z,2),V=H[0],$=H[1],J=e.useState([]),K=a(J,2),Q=K[0],R=K[1],U=e.useState(_),Z=a(U,2),ee=Z[0],ae=Z[1],se=e.useState(!1),ce=a(se,2);ce[0];var le=ce[1],ne=e.useState(null),te=a(ne,2),re=te[0],ie=te[1],oe=e.useState(!1),de=a(oe,2);de[0],de[1];var ue=e.useState(!1),he=a(ue,2),me=he[0],xe=he[1],pe=e.useState("\u4e0a\u6d77\u5e02"),fe=a(pe,2),je=fe[0],Ne=fe[1],ve=e.useState(!1),ge=a(ve,2),ye=ge[0],be=ge[1],ke=e.useState(!1),we=a(ke,2),Ce=we[0],Se=we[1],De=e.useState({price:G[0],star:W[0]}),Te=a(De,2),Ie=Te[0],Me=Te[1],Oe=e.useState(!1),Ye=a(Oe,2),Ee=Ye[0],Ae=Ye[1],Ge=e.useState(v({},Ie)),We=a(Ge,2),_e=We[0],Pe=We[1],Be=function(){Me(v({},_e)),Ae(!1)};g.useLoad(function(){console.log("\u9875\u9762\u52a0\u8f7d\u5b8c\u6210"),Fe()});var Fe=function(){var e=h(m().m(function e(){var a,s,c,l;return m().w(function(e){while(1)switch(e.p=e.n){case 0:return be(!0),e.p=1,e.n=2,Y({url:"/system/location",method:"GET"});case 2:return s=e.v,200===s.code&&null!==(a=s.data)&&void 0!==a&&a.city&&(c=s.data.city,Ne(c),B(function(e){return v(v({},e),{},{city:c})})),e.n=3,Xe();case 3:return e.n=4,qe(P.city);case 4:return e.n=5,Le(P.city);case 5:e.n=7;break;case 6:e.p=6,l=e.v,console.error("\u521d\u59cb\u5316\u5931\u8d25:",l);case 7:return e.p=7,be(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=h(m().m(function e(a){var s,c,l,n,t,r,i,d,u,h,x,j,N,g,y,b;return m().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,c=a.replace(/\u5e02$/,""),e.n=1,Y({url:"/hotel/list",method:"GET",data:{city:c,limit:3,star:5}});case 1:if(l=e.v,n=200===l.code&&null!==(s=l.data)&&void 0!==s&&s.list?l.data.list:[],!(n.length<3)){e.n=3;break}return e.n=2,Y({url:"/hotel/list",method:"GET",data:{city:c,limit:3-n.length,star:4}});case 2:r=e.v,200===r.code&&null!==(t=r.data)&&void 0!==t&&t.list&&(n=p(i=[]).call(i,f(n),f(r.data.list)));case 3:if(!(n.length<3)){e.n=5;break}return e.n=4,Y({url:"/hotel/list",method:"GET",data:{city:c,limit:3}});case 4:u=e.v,200===u.code&&null!==(d=u.data)&&void 0!==d&&d.list&&(N=o(n).call(n,function(e){return e.id}),g=I(h=u.data.list).call(h,function(e){return!D(N).call(N,e.id)}),n=w(x=p(j=[]).call(j,f(n),f(g))).call(x,0,3));case 5:n.length>0&&(y=o(n).call(n,function(e,a){var s,c=[{tag:"\u9650\u65f6\u7279\u60e0",tagClass:"",title:"".concat(e.name," \xb7 \u6625\u5b63\u5927\u4fc3"),subtitle:"\u5962\u534e\u4eab\u53d7\uff0c\u8d85\u503c\u4f53\u9a8c"},{tag:"\u4f1a\u5458\u4e13\u4eab",tagClass:"tag-premium",title:"".concat(e.name," \xb7 \u5c0a\u4eab\u5347\u7ea7"),subtitle:"\u767d\u91d1\u4f1a\u5458\u514d\u8d39\u5347\u7ea7\u8c6a\u534e\u623f\u578b"},{tag:"\u95ea\u8d2d\u7279\u4ef7",tagClass:"tag-flash",title:"".concat(e.name," \xb7 \u5468\u672b\u7279\u60e0"),subtitle:"\u9650\u65f6\u62a2\u8d2d\uff0c\u624b\u6162\u65e0"}];return v({id:e.id,image:null!==(s=e.cover_image)&&void 0!==s&&O(s).call(s,"http")?e.cover_image:"http://localhost:3000".concat(e.cover_image)},c[a%3])}),R(y)),e.n=7;break;case 6:e.p=6,b=e.v,console.error("\u83b7\u53d6Banner\u9152\u5e97\u5931\u8d25:",b);case 7:return e.a(2)}},e,null,[[0,6]])}));return function(a){return e.apply(this,arguments)}}(),Xe=function(){var e=h(m().m(function e(){var a,s,c,l,n,t;return m().w(function(e){while(1)switch(e.p=e.n){case 0:return le(!0),e.p=1,e.n=2,Y({url:"/system/city-stats",method:"GET"});case 2:s=e.v,200===s.code&&null!==(a=s.data)&&void 0!==a&&a.cities&&(n=o(c=w(l=s.data.cities).call(l,0,6)).call(c,function(e,a){return{id:a+1,name:e.city,hotels:e.count}}),ae(n)),e.n=4;break;case 3:e.p=3,t=e.v,console.error("\u83b7\u53d6\u57ce\u5e02\u7edf\u8ba1\u5931\u8d25:",t);case 4:return e.p=4,le(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=h(m().m(function e(a){var s,c,l,n,t,r;return m().w(function(e){while(1)switch(e.p=e.n){case 0:return $(!0),e.p=1,c=a.replace(/\u5e02$/,""),e.n=2,Y({url:"/hotel/list",method:"GET",data:{city:c,limit:4,sort:"price_desc"}});case 2:l=e.v,200===l.code&&null!==(s=l.data)&&void 0!==s&&s.list&&(t=o(n=l.data.list).call(n,function(e){var a,s,c;return{id:e.id,name:e.name,price:M(e.price),rating:e.score,reviews:e.reviews||0,image:null!==(a=e.cover_image)&&void 0!==a&&O(a).call(a,"http")?e.cover_image:"http://localhost:3000".concat(e.cover_image),tags:Array.isArray(e.tags)?w(s=I(c=e.tags).call(c,function(e){return!D(e).call(e,":")})).call(s,0,3):[]}}),q(t)),e.n=4;break;case 3:e.p=3,r=e.v,console.error("\u83b7\u53d6\u63a8\u8350\u9152\u5e97\u5931\u8d25:",r);case 4:return e.p=4,$(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(a){return e.apply(this,arguments)}}(),ze=function(e){var s,c,l,n,t=a(e,2),r=t[0],i=t[1],o=N(p(s=p(c="".concat(r[0],"-")).call(c,r[1],"-")).call(s,r[2])),d=N(p(l=p(n="".concat(i[0],"-")).call(n,i[1],"-")).call(l,i[2]));B(function(e){return v(v({},e),{},{checkInDate:o.format("MM\u6708DD\u65e5"),checkInWeekday:o.format("dddd"),checkOutDate:d.format("MM\u6708DD\u65e5"),checkOutWeekday:d.format("dddd"),nights:d.diff(o,"day")})}),Se(!1)},He=function(){var e;if(j(e=P.keyword).call(e)||"\u8bf7\u9009\u62e9"!==P.city){var a={city:P.city,keyword:P.keyword||"",checkInDate:P.checkInDate,checkOutDate:P.checkOutDate,days:P.nights,priceType:Ie.price.value,starType:Ie.star.value};console.log("\u641c\u7d22\u53c2\u6570:",a),T("hotelSearchParams",a),console.log("\u8df3\u8f6c\u5230 list \u9875\u9762\uff0c\u53c2\u6570:",a),g.switchTab({url:"/pages/list/index",success:function(){console.log("\u8df3\u8f6c\u5230\u5217\u8868\u9875\u6210\u529f")},fail:function(e){console.error("\u8df3\u8f6c\u5931\u8d25:",e),x({title:"\u8df3\u8f6c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",icon:"error"})}})}else x({title:"\u8bf7\u9009\u62e9\u76ee\u7684\u5730\u6216\u8f93\u5165\u5173\u952e\u8bcd",icon:"none"})},Ve=function(e){Ne(e),B(function(a){return v(v({},a),{},{city:e})}),xe(!1)},$e=function(e){console.log("\u70b9\u51fb\u4e86\u65e5\u671f\u533a\u57df"),Se(!0)},Je=function(e){switch(ie(e.id),console.log("\u9009\u4e2d\u6807\u7b7e:",e),e.type){case"star":g.navigateTo({url:"/pages/filter/index?type=star&value=5"});break;case"family":g.navigateTo({url:"/pages/filter/index?type=facility&value=family"});break;default:B(function(a){return v(v({},a),{},{keyword:e.label})})}},Ke=function(e){console.log("\u70b9\u51fb\u9152\u5e97:",e.name),g.navigateTo({url:"/pages/hotel-detail/index?id=".concat(e.id)})},Qe=function(){var e=h(m().m(function e(){var a,s,c,l,n,t;return m().w(function(e){while(1)switch(e.p=e.n){case 0:return be(!0),e.p=1,e.n=2,Y({url:"/system/location",method:"GET"});case 2:if(a=e.v,200!==a.code||!a.data){e.n=3;break}s=a.data,c=s.city,l=s.province,n=c||l||"\u4e0a\u6d77\u5e02",Ne(n),B(function(e){return v(v({},e),{},{city:n})}),x({title:"\u5df2\u5b9a\u4f4d\u5230: ".concat(n),icon:"success",duration:1500}),e.n=4;break;case 3:throw new Error("\u5b9a\u4f4d\u89e3\u6790\u5931\u8d25");case 4:e.n=6;break;case 5:e.p=5,t=e.v,console.error("\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25:",t),x({title:"\u5b9a\u4f4d\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u9009\u62e9",icon:"none"});case 6:return e.p=6,be(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),Re=function(){return c.jsxs(t,{className:"popular-cities",children:[c.jsxs(t,{className:"section-title",children:[c.jsx(r,{className:"title",children:"\u70ed\u95e8\u57ce\u5e02"}),c.jsx(r,{className:"subtitle",children:"\u63a2\u7d22\u66f4\u591a\u76ee\u7684\u5730"})]}),c.jsx(i,{className:"cities-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:c.jsx(t,{className:"cities-container",children:o(ee).call(ee,function(e){return c.jsxs(t,{className:"city-item ".concat(D(je).call(je,e.name)?"active":""),onClick:function(){return Ve(e.name)},children:[c.jsx(r,{className:"city-name",children:e.name}),c.jsxs(r,{className:"city-count",children:[e.hotels,"\u5bb6\u9152\u5e97"]})]},e.id)})})})]})};return c.jsxs(t,{className:"page-container",children:[c.jsxs(i,{className:"main-content",scrollY:!0,enhanced:!0,showScrollbar:!1,children:[c.jsx(y,{className:"banner-swiper",indicatorColor:"#999",indicatorActiveColor:"#3B82F6",circular:Q.length>=2,indicatorDots:!0,autoplay:Q.length>=2,interval:4e3,children:Q.length>0?o(Q).call(Q,function(e,a){return c.jsx(b,{children:c.jsxs(t,{className:"banner-item",onClick:function(){var a,s;g.navigateTo({url:p(a=p(s="/pages/detail/index?id=".concat(e.id,"&checkIn=")).call(s,P.checkInDate,"&checkOut=")).call(a,P.checkOutDate)})},children:[c.jsx(k,{className:"banner-image",src:e.image,mode:"aspectFill"}),c.jsxs(t,{className:"banner-content",children:[c.jsx(t,{className:"promotion-tag ".concat(e.tagClass),children:c.jsx(r,{className:"tag-text",children:e.tag})}),c.jsx(r,{className:"banner-title",children:e.title}),c.jsx(r,{className:"banner-subtitle",children:e.subtitle})]})]})},a)}):c.jsx(b,{children:c.jsx(t,{className:"banner-item",children:c.jsx(t,{style:{height:"180px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f5f5f5"},children:c.jsx(r,{children:"\u52a0\u8f7d\u4e2d..."})})})})}),c.jsx(t,{className:"search-section",children:c.jsxs(t,{className:"search-card",children:[c.jsxs(t,{className:"search-row location-row",children:[c.jsxs(t,{className:"location-left",onClick:function(){return xe(!me)},children:[c.jsx(r,{className:"location-label",children:"\u4f4d\u7f6e: "}),c.jsx(r,{className:"location-value",children:P.city})]}),c.jsxs(t,{className:"location-btn",onClick:Qe,children:[c.jsx(r,{className:"btn-icon",children:"\ud83c\udfaf"}),c.jsx(r,{className:"btn-text",children:"\u6211\u7684\u4f4d\u7f6e"})]})]}),c.jsxs(t,{className:"search-row date-row",onClick:$e,hoverClass:"date-row-hover",children:[c.jsxs(t,{className:"date-item checkin",children:[c.jsx(r,{className:"date-label",children:"\u5165\u4f4f\u65e5\u671f"}),c.jsxs(t,{className:"date-info",children:[c.jsx(r,{className:"date-value",children:P.checkInDate}),c.jsx(r,{className:"date-weekday",children:P.checkInWeekday})]})]}),c.jsx(t,{className:"night-count",children:c.jsxs(r,{className:"night-text",children:[P.nights,"\u665a"]})}),c.jsxs(t,{className:"date-item checkout",children:[c.jsx(r,{className:"date-label",children:"\u79bb\u5e97\u65e5\u671f"}),c.jsxs(t,{className:"date-info",children:[c.jsx(r,{className:"date-value",children:P.checkOutDate}),c.jsx(r,{className:"date-weekday",children:P.checkOutWeekday})]})]})]}),c.jsxs(t,{className:"search-row keyword-row",children:[c.jsx(d,{className:"search-input",placeholder:"\ud83d\udd0d \u5173\u952e\u5b57/\u4f4d\u7f6e/\u54c1\u724c/\u9152\u5e97\u540d",placeholderClass:"placeholder",value:P.keyword,onInput:function(e){return B(function(a){return v(v({},a),{},{keyword:e.detail.value})})},confirmType:"search",onConfirm:He}),P.keyword&&c.jsx(r,{className:"clear-icon",onClick:function(){return B(function(e){return v(v({},e),{},{keyword:""})})},children:"\u2715"})]}),c.jsxs(t,{className:"search-row rooms-row",children:[c.jsx(r,{className:"rooms-label",children:"\u623f\u95f4\u6570\u91cf"}),c.jsxs(t,{className:"rooms-controls",children:[c.jsx(u,{className:"control-btn minus",onClick:function(){return B(function(e){return v(v({},e),{},{rooms:Math.max(1,e.rooms-1)})})},children:"-"}),c.jsxs(r,{className:"rooms-count",children:[P.rooms,"\u95f4"]}),c.jsx(u,{className:"control-btn plus",onClick:function(){return B(function(e){return v(v({},e),{},{rooms:e.rooms+1})})},children:"+"})]})]}),c.jsxs(t,{className:"search-row filter-row",onClick:function(){Pe(v({},Ie)),Ae(!0)},children:[c.jsxs(t,{className:"filter-left",children:[c.jsx(r,{className:"filter-icon",children:"\ud83c\udff7\ufe0f"})," ",c.jsxs(t,{className:"filter-info",children:[c.jsx(r,{className:"filter-label",children:"\u4ef7\u683c/\u661f\u7ea7"}),c.jsx(r,{className:"filter-value ".concat("all"===Ie.price.value&&"all"===Ie.star.value?"placeholder":""),children:"all"===Ie.price.value&&"all"===Ie.star.value?"\u8bf7\u9009\u62e9\u4ef7\u683c/\u661f\u7ea7":p(s="".concat(Ie.price.label," \xb7 ")).call(s,Ie.star.label)})]})]}),c.jsx(r,{className:"arrow-icon",children:"\u203a"})]}),c.jsx(u,{className:"search-button",onClick:He,loading:ye,disabled:ye,children:c.jsx(r,{className:"button-text",children:ye?"\u641c\u7d22\u4e2d...":"\u5f00\u59cb\u641c\u7d22"})})]})}),Re(),c.jsxs(t,{className:"quick-tags-section",children:[c.jsxs(t,{className:"section-header",children:[c.jsx(r,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),c.jsx(r,{className:"section-subtitle",children:"\u667a\u80fd\u63a8\u8350\u70ed\u95e8\u7b5b\u9009"})]}),c.jsx(i,{className:"tags-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:c.jsx(t,{className:"tags-container",children:o(A).call(A,function(e){return c.jsx(t,{className:"tag-item ".concat(re===e.id?"active":""),onClick:function(){return Je(e)},children:c.jsx(r,{className:"tag-label",children:e.label})},e.id)})})})]}),c.jsxs(t,{className:"recent-section",children:[c.jsx(t,{className:"section-header",children:c.jsxs(t,{className:"section-title-wrapper",children:[c.jsx(r,{className:"section-title",children:"\u4e3a\u60a8\u63a8\u8350"}),c.jsx(r,{className:"section-badge",children:X.length})]})}),c.jsx(i,{className:"hotels-scroll",scrollX:!0,enhanced:!0,showScrollbar:!1,children:c.jsx(t,{className:"hotels-container",children:V?c.jsx(t,{style:{padding:"20px",textAlign:"center"},children:c.jsx(r,{children:"\u52a0\u8f7d\u4e2d..."})}):X.length>0?o(X).call(X,function(e){var a,s;return c.jsxs(t,{className:"hotel-card",onClick:function(){return Ke(e)},children:[c.jsx(k,{className:"hotel-image",src:e.image,mode:"aspectFill"}),c.jsxs(t,{className:"hotel-info",children:[c.jsx(r,{className:"hotel-name",children:e.name}),e.rating&&c.jsxs(t,{className:"hotel-rating",children:[c.jsxs(r,{className:"rating-value",children:["\u2605 ",e.rating]}),e.reviews>0&&c.jsxs(r,{className:"rating-reviews",children:["(",e.reviews,"\u6761\u8bc4\u4ef7)"]})]}),c.jsx(t,{className:"hotel-tags",children:o(a=w(s=e.tags).call(s,0,2)).call(a,function(e,a){return c.jsx(r,{className:"hotel-tag",children:e},a)})}),c.jsxs(t,{className:"hotel-price",children:[c.jsx(r,{className:"price-symbol",children:"\xa5"}),c.jsx(r,{className:"price-value",children:e.price.toLocaleString()}),c.jsx(r,{className:"price-unit",children:"\u8d77/\u665a"})]})]})]},e.id)}):c.jsx(t,{style:{padding:"20px",textAlign:"center"},children:c.jsx(r,{children:"\u6682\u65e0\u63a8\u8350\u9152\u5e97"})})})})]}),c.jsx(t,{className:"bottom-spacing"})]}),c.jsx(E,{}),c.jsx(C,{visible:Ee,position:"bottom",round:!0,onClose:function(){return Ae(!1)},children:c.jsxs(t,{className:"filter-popup-content",children:[c.jsxs(t,{className:"popup-header",children:[c.jsx(r,{className:"popup-title",children:"\u4ef7\u683c/\u661f\u7ea7\u7b5b\u9009"}),c.jsx(r,{className:"popup-close",onClick:function(){return Ae(!1)},children:"\u2715"})]}),c.jsxs(i,{className:"popup-body",scrollY:!0,children:[c.jsxs(t,{className:"filter-group",children:[c.jsx(r,{className:"group-title",children:"\u4ef7\u683c\u9884\u7b97"}),c.jsx(t,{className:"options-grid",children:o(G).call(G,function(e){return c.jsx(t,{className:"option-item ".concat(_e.price.value===e.value?"active":""),onClick:function(){return Pe(function(a){return v(v({},a),{},{price:e})})},children:e.label},e.value)})})]}),c.jsxs(t,{className:"filter-group",children:[c.jsx(r,{className:"group-title",children:"\u661f\u7ea7\u6807\u51c6"}),c.jsx(t,{className:"options-grid",children:o(W).call(W,function(e){return c.jsx(t,{className:"option-item ".concat(_e.star.value===e.value?"active":""),onClick:function(){return Pe(function(a){return v(v({},a),{},{star:e})})},children:e.label},e.value)})})]})]}),c.jsxs(t,{className:"popup-footer",children:[c.jsx(u,{className:"reset-btn",onClick:function(){return Pe({price:G[0],star:W[0]})},children:"\u91cd\u7f6e"}),c.jsx(u,{className:"confirm-btn",onClick:Be,children:"\u5b8c\u6210"})]})]})}),Ce&&c.jsx(S,{visible:Ce,className:"home-calendar-wrapper",type:"range",startDate:N().format("YYYY-MM-DD"),endDate:N().add(12,"month").format("YYYY-MM-DD"),onClose:function(){return Se(!1)},onConfirm:ze,showConfirm:!0,poppable:!0,position:"bottom",round:!0,closeable:!0,style:{height:"85%","--nutui-calendar-confirm-btn-height":"72px"}}),ye&&c.jsx(t,{className:"loading-overlay",children:c.jsxs(t,{className:"loading-content",children:[c.jsx(t,{className:"loading-spinner"}),c.jsx(r,{className:"loading-text",children:"\u52a0\u8f7d\u4e2d..."})]})}),me&&c.jsx(t,{className:"city-picker-overlay",onClick:function(){return xe(!1)},children:c.jsxs(t,{className:"city-picker",onClick:function(e){return e.stopPropagation()},children:[c.jsxs(t,{className:"picker-header",children:[c.jsx(r,{className:"picker-title",children:"\u9009\u62e9\u57ce\u5e02"}),c.jsx(r,{className:"picker-close",onClick:function(){return xe(!1)},children:"\u2715"})]}),c.jsx(i,{className:"picker-list",scrollY:!0,children:o(ee).call(ee,function(e){return c.jsxs(t,{className:"picker-item ".concat(D(je).call(je,e.name)?"selected":""),onClick:function(){return Ve(e.name)},children:[c.jsx(r,{className:"picker-item-name",children:e.name}),c.jsxs(r,{className:"picker-item-count",children:[e.hotels,"\u5bb6\u9152\u5e97"]})]},e.id)})})]})})]})}export{P as default};
